<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Management Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W3BM2JC8');</script>
<!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17534255111"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
        
            gtag('config', 'AW-17534255111');
            gtag('config', 'G-8JYPJDKSP8');
        </script>


    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f4f7f6;
        }
        .sidebar {
            width: 250px;
            transition: width 0.3s ease-in-out;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 50;
        }
        .main-content {
            margin-left: 250px;
            flex-grow: 1;
        }
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                box-shadow: none;
                overflow-y: visible;
            }
            .main-content {
                margin-left: 0;
            }
        }
        .status-link.active {
            @apply bg-blue-600 text-white;
        }
        .dashboard-card {
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out;
            background-color: rgba(255, 255, 255, 0.92) !important;
            color: #1f2937 !important;
            border: 1px solid rgba(148, 163, 184, 0.35);
        }
        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(15, 23, 42, 0.12);
            background-color: #f8fafc !important;
        }
        .dashboard-card i {
            color: rgba(59, 130, 246, 0.6);
        }
        .submenu-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .submenu-container.open {
            max-height: 200px;
        }
        /* New styling for status bubbles */
        .status-bubble {
            @apply px-2.5 py-1 rounded-full text-xs font-semibold flex flex-col justify-center items-center;
        }
        .status-bubble-text {
            @apply block;
        }
        .status-bubble-subtext {
            @apply block text-xs mt-0.5;
        }
    </style>
</head>
<body class="flex flex-col md:flex-row min-h-screen">

    <aside class="sidebar bg-gray-800 text-gray-200 p-6 flex flex-col rounded-r-lg shadow-lg">
        <div class="mb-8">
            <h1 class="text-3xl font-extrabold text-white">Admin Panel</h1>
            <p class="text-gray-400 text-sm">Order Management</p>
            <p class="text-xs text-gray-500 mt-2">User ID: <span id="display-user-id">Loading...</span></p>
        </div>

        <div class="mb-6">
            <label for="search-orders" class="block text-gray-400 text-sm mb-2">Search Orders</label>
            <div class="relative">
                <input type="text" id="search-orders" placeholder="Search by ID, Customer, or Tracking..."
                        class="w-full pl-10 pr-4 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-search text-gray-400"></i>
                </div>
            </div>
        </div>

        <nav class="flex-grow">
            <ul class="space-y-3">
                <li>
                    <a href="#" data-status="all" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200 active">
                        <i class="fas fa-list mr-3"></i> All Orders
                    </a>
                </li>
                <li>
                    <a href="#" data-status="order_pending" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-box-open mr-3"></i> Order Pending
                    </a>
                </li>
                <li>
                    <a href="#" data-status="shipping_kit_requested" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-box mr-3"></i> Shipping Kit Requested
                    </a>
                </li>
                <li>
                    <a href="#" data-status="label_generated" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-file-invoice mr-3"></i> Label Generated
                    </a>
                </li>
                <li>
                    <a href="#" data-status="received" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-truck mr-3"></i> Received
                    </a>
                </li>
                <li class="reoffer-menu-item">
                    <a href="#" class="reoffer-parent block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-dollar-sign mr-3"></i> Reoffer
                    </a>
                    <ul class="submenu-container pl-6 space-y-2">
                        <li>
                            <a href="#" data-status="re-offered-pending" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                                <i class="fas fa-hourglass-half mr-3"></i> Reoffer Pending
                            </a>
                        </li>
                        <li>
                            <a href="#" data-status="re-offered-accepted" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                                <i class="fas fa-handshake mr-3"></i> Reoffer Accepted
                            </a>
                        </li>
                        <li>
                            <a href="#" data-status="re-offered-declined" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                                <i class="fas fa-times-circle mr-3"></i> Reoffer Declined
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#" data-status="return-label-generated" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-undo-alt mr-3"></i> Return Label Generated
                    </a>
                </li>
                <li>
                    <a href="#" data-status="completed" class="status-link block py-2 px-4 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                        <i class="fas fa-check-circle mr-3"></i> Completed
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="main-content flex-grow p-8">
        <header class="mb-8">
            <h2 class="text-4xl font-bold text-gray-800">Order Dashboard</h2>
            <p class="text-gray-600">Overview of all current and past orders.</p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
            <div id="card-order_pending" data-status="order_pending" class="dashboard-card bg-blue-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Order Pending</div>
                    <div id="order-pending-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-box-open text-5xl opacity-40"></i>
            </div>
            <div id="card-shipping_kit_requested" data-status="shipping_kit_requested" class="dashboard-card bg-indigo-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Shipping Kit Requested</div>
                    <div id="shipping-kit-requested-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-box text-5xl opacity-40"></i>
            </div>
            <div id="card-label_generated" data-status="label_generated" class="dashboard-card bg-yellow-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Label Generated</div>
                    <div id="label-generated-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-file-invoice text-5xl opacity-40"></i>
            </div>
            <div id="card-received" data-status="received" class="dashboard-card bg-green-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Received</div>
                    <div id="received-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-truck text-5xl opacity-40"></i>
            </div>
            <div id="card-completed" data-status="completed" class="dashboard-card bg-purple-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Completed Orders</div>
                    <div id="completed-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-check-circle text-5xl opacity-40"></i>
            </div>
            <div id="card-re-offered-pending" data-status="re-offered-pending" class="dashboard-card bg-orange-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Reoffer Pending</div>
                    <div id="re-offered-pending-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-hourglass-half text-5xl opacity-40"></i>
            </div>
            <div id="card-re-offered-accepted" data-status="re-offered-accepted" class="dashboard-card bg-teal-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Reoffer Accepted</div>
                    <div id="re-offered-accepted-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-handshake text-5xl opacity-40"></i>
            </div>
            <div id="card-re-offered-declined" data-status="re-offered-declined" class="dashboard-card bg-red-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Reoffer Declined</div>
                    <div id="re-offered-declined-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-times-circle text-5xl opacity-40"></i>
            </div>
            <div id="card-return-label-generated" data-status="return-label-generated" class="dashboard-card bg-gray-500 text-white p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <div class="text-sm font-semibold opacity-80">Return Label Generated</div>
                    <div id="return-label-generated-count" class="text-4xl font-extrabold mt-1">0</div>
                </div>
                <i class="fas fa-undo-alt text-5xl opacity-40"></i>
            </div>
        </div>

        <section class="bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Orders List</h3>
            <div class="overflow-x-auto">
                <table class="min-w-full table-auto divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12">Order ID</th>
                            <!-- START: NEW COLUMN FOR DATE -->
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12">Order Date / Age</th>
                            <!-- END: NEW COLUMN FOR DATE -->
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12">Last Update</th>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12">Customer Name</th>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12">Item</th>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12">Status</th>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12">Tracking #</th>
                            <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="orders-table-body" class="bg-white divide-y divide-gray-200">
                        <!-- UPDATED COLSPAN TO 8 -->
                        <tr><td colspan="8" class="text-center text-gray-500 py-8">Loading orders...</td></tr>
                    </tbody>
                </table>
            </div>
            <div id="pagination-controls" class="mt-4 flex items-center justify-between text-sm text-gray-600 hidden">
                <button id="pagination-prev" class="px-3 py-1 rounded-md border border-gray-300 bg-white text-gray-600 disabled:opacity-40 disabled:cursor-not-allowed">Prev</button>
                <div id="pagination-info" class="text-gray-500"></div>
                <button id="pagination-next" class="px-3 py-1 rounded-md border border-gray-300 bg-white text-gray-600 disabled:opacity-40 disabled:cursor-not-allowed">Next</button>
            </div>
            <!-- UPDATED COLSPAN TO 8 (for internal error message logic) -->
            <div id="no-orders-message" class="text-center text-gray-500 py-8 hidden">No orders found for this status.</div>
        </section>
    </main>

    <div id="order-details-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto">
            
            <!-- NEW: Always visible Send Reminder Button (positioned in top corner) -->
            <button id="send-reminder-btn" class="absolute top-4 right-12 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-3 text-sm rounded-md transition-colors duration-200 shadow hidden">
                <i class="fas fa-paper-plane mr-1"></i> Send Reminder
            </button>
            
            <button id="close-modal" class="absolute top-4 right-4 text-gray-600 hover:text-gray-900 text-2xl">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Order Details <span id="modal-order-id" class="text-blue-600"></span></h3>
            <div class="space-y-3 text-gray-700">
                <p><strong>Customer:</strong> <span id="modal-customer-name"></span></p>
                <p><strong>Email:</strong> <span id="modal-customer-email"></span></p>
                <!-- ADDED PHONE FIELD -->
                <p><strong>Phone:</strong> <span id="modal-customer-phone"></span></p>
                <p><strong>Item:</strong> <span id="modal-item"></span></p>
                <p><strong>Storage:</strong> <span id="modal-storage"></span></p>
                <p><strong>Carrier:</strong> <span id="modal-carrier"></span></p>
                <p><strong>Estimated Payout:</strong> $<span id="modal-price"></span></p>
                <p><strong>Payment Method:</strong> <span id="modal-payment-method"></span></p>
                <p id="modal-venmo-username-row" class="hidden"><strong>Venmo Username:</strong> <span id="modal-venmo-username"></span></p>
                <p><strong>Shipping Address:</strong> <span id="modal-shipping-address"></span></p>
                <p><strong>Conditions:</strong>
                    <ul class="list-disc list-inside ml-4 text-sm">
                        <li>Powers On: <span id="modal-condition-power-on"></span></li>
                        <li>Fully Functional: <span id="modal-condition-functional"></span></li>
                        <li>No Cracks: <span id="modal-condition-cracks"></span></li>
                        <li>Cosmetic: <span id="modal-condition-cosmetic"></span></li>
                    </ul>
                </p>
                <p><strong>Current Status:</strong> <span id="modal-status" class="font-semibold px-2 py-1 rounded-full text-xs"></span></p>
                <!-- NEW: Last Reminder Sent -->
                <p><strong>Last Reminder Sent:</strong> <span id="modal-last-reminder-date">N/A</span></p>
                <p><strong>Order Age:</strong> <span id="modal-order-age">Calculating...</span></p>

                <!-- Updated label display for flexibility -->
                <p id="modal-label-row" class="hidden"><strong><span id="modal-label-description">Shipping Label</span>:</strong> <a id="modal-label-link" href="#" target="_blank" class="text-blue-500 hover:underline">View Label</a> (<span id="modal-tracking-number"></span>)</p>
                <p id="modal-secondary-label-row" class="hidden"><strong><span id="modal-secondary-label-description">Secondary Label</span>:</strong> <a id="modal-secondary-label-link" href="#" target="_blank" class="text-blue-500 hover:underline">View Label</a> (<span id="modal-secondary-tracking-number-display"></span>)</p>
                <p id="modal-return-label-row" class="hidden"><strong><span id="modal-return-label-description">Return Label</span>:</strong> <a id="modal-return-label-link" href="#" target="_blank" class="text-red-500 hover:underline">View Return Label</a> (<span id="modal-return-tracking-number-display"></span>)</p>
                <p id="modal-label-status-row" class="hidden"><strong>Label Status:</strong> <span id="modal-label-status"></span></p>

                <p id="modal-loading-message" class="text-center text-blue-500 hidden"><i class="fas fa-spinner fa-spin mr-2"></i> Processing request...</p>
            </div>

            <div id="modal-activity-log" class="mt-6 border-t border-gray-200 pt-4 hidden">
                <h4 class="text-sm font-semibold text-gray-600 uppercase tracking-wide">Activity</h4>
                <ul id="modal-activity-log-list" class="mt-2 space-y-2 text-sm text-gray-600"></ul>
            </div>

            <div id="reoffer-form-container" class="mt-6 p-4 border border-gray-200 rounded-lg hidden">
                <h4 class="text-lg font-semibold text-gray-800 mb-4">Propose New Offer</h4>
                <div class="space-y-4">
                    <div>
                        <label for="reoffer-new-price" class="block text-sm font-medium text-gray-700">New Offer Price ($)</label>
                        <input type="number" id="reoffer-new-price" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="e.g., 150.00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Reasons</label>
                        <div class="mt-1 space-y-2">
                            <div class="flex items-center">
                                <input id="reason-damaged" name="reoffer-reasons" type="checkbox" value="damaged" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                                <label for="reason-damaged" class="ml-2 block text-sm text-gray-900">Damaged (includes cracks)</label>
                            </div>
                            <div class="flex items-center">
                                <input id="reason-deep-scratches" name="reoffer-reasons" type="checkbox" value="deep-scratches" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                                <label for="reason-deep-scratches" class="ml-2 block text-sm text-gray-900">Deep Scratches</label>
                            </div>
                            <div class="flex items-center">
                                <input id="reason-wrong-device" name="reoffer-reasons" type="checkbox" value="wrong-device" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                                <label for="reason-wrong-device" class="ml-2 block text-sm text-gray-900">Wrong Device Sent</label>
                            </div>
                            <div class="flex items-center">
                                <input id="reason-non-functional" name="reoffer-reasons" type="checkbox" value="non-functional" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                                <label for="reason-non-functional" class="ml-2 block text-sm text-gray-900">Non-Functional Component</label>
                            </div>
                            <div class="flex items-center">
                                <input id="reason-other" name="reoffer-reasons" type="checkbox" value="other" class="focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded">
                                <label for="reason-other" class="ml-2 block text-sm text-gray-900">Other</label>
                            </div>
                        </div>
                    </div>
                    <div id="reoffer-pricing-helper" class="mt-4 p-3 bg-slate-50 border border-slate-200 rounded-lg hidden">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1">
                            <p class="text-sm font-semibold text-slate-700">Feed Pricing Suggestions</p>
                            <span id="reoffer-pricing-model" class="text-xs uppercase tracking-wide text-slate-500"></span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">Click a value below to populate the new offer amount.</p>
                        <div id="reoffer-pricing-values" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
                        <p id="reoffer-pricing-message" class="mt-2 text-xs text-red-500 hidden"></p>
                    </div>
                    <div>
                        <label for="reoffer-comments" class="block text-sm font-medium text-gray-700">Additional Comments</label>
                        <textarea id="reoffer-comments" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="Enter additional details here..."></textarea>
                    </div>
                </div>
                <div class="mt-4 flex justify-end gap-3">
                    <button id="cancel-reoffer-btn" type="button" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Cancel
                    </button>
                    <button id="submit-reoffer-btn" type="button" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Send Re-offer
                    </button>
                </div>
            </div>

            <!-- Manual Fulfillment Form -->
            <div id="manual-fulfillment-form-container" class="mt-6 p-4 border border-gray-200 rounded-lg hidden">
                <h4 class="text-lg font-semibold text-gray-800 mb-4">Manually Fulfill Order (External Label)</h4>
                <p id="manual-fulfillment-message" class="text-sm text-gray-600 mb-4">Enter the tracking number(s) generated externally. This will update the order status and notify the customer.</p>
                
                <div class="space-y-4">
                    <div id="manual-outbound-tracking-group">
                        <label for="manual-outbound-tracking" class="block text-sm font-medium text-gray-700">Outbound Kit Tracking # (Required for Kits)</label>
                        <input type="text" id="manual-outbound-tracking" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="e.g., 9400100000000000000000">
                    </div>
                    <div id="manual-inbound-tracking-group">
                        <label for="manual-inbound-tracking" class="block text-sm font-medium text-gray-700">Inbound Device Tracking # (Required)</label>
                        <input type="text" id="manual-inbound-tracking" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="e.g., 9400100000000000000001">
                    </div>
                    <div>
                        <label for="manual-label-url" class="block text-sm font-medium text-gray-700">Inbound Label URL (Optional - direct PDF link)</label>
                        <input type="url" id="manual-label-url" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2" placeholder="e.g., https://example.com/label.pdf">
                    </div>
                </div>
                <div class="mt-4 flex justify-end gap-3">
                    <button id="cancel-manual-fulfillment-btn" type="button" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Cancel
                    </button>
                    <button id="submit-manual-fulfillment-btn" type="button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Confirm Fulfillment
                    </button>
                </div>
            </div>

            <!-- Void Label Form -->
            <div id="void-label-form-container" class="mt-6 p-4 border border-red-200 bg-red-50 rounded-lg hidden">
                <h4 class="text-lg font-semibold text-gray-800 mb-2">Void Shipping Labels</h4>
                <p class="text-sm text-gray-600">Select the labels you would like to cancel. Carrier approval may vary based on label age and usage.</p>
                <div id="void-label-options" class="mt-4 space-y-3"></div>
                <p id="void-label-message" class="mt-3 text-sm hidden"></p>
                <div class="mt-4 flex justify-end gap-3">
                    <button id="cancel-void-label-btn" type="button" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Cancel
                    </button>
                    <button id="submit-void-label-btn" type="button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Void Selected Labels
                    </button>
                </div>
            </div>

            <!-- Delete Confirmation UI (Simple overlay within modal) -->
            <div id="delete-confirmation-container" class="mt-6 p-4 bg-red-100 border border-red-300 rounded-lg hidden">
                <p class="text-sm font-semibold text-red-800 mb-3">⚠️ Are you sure you want to permanently delete this order? This action cannot be undone.</p>
                <div class="flex justify-end gap-3">
                    <button id="cancel-delete-btn" type="button" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Cancel
                    </button>
                    <button id="confirm-delete-btn" type="button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">
                        Yes, Delete Permanently
                    </button>
                </div>
            </div>

            <div id="modal-action-buttons" class="mt-6 flex flex-col sm:flex-row gap-3">
            </div>
            <div id="modal-message" class="mt-4 p-3 text-sm rounded-md hidden"></div>
        </div>
    </div>

    

    <script type="module" src="/assets/js/pages/admin-admin.js"></script>
</body>
</html>
