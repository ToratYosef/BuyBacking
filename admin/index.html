<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Management Dashboard</title>
    <link rel="stylesheet" href="/assets/css/admin-tailwind.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W3BM2JC8');</script>
<!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17534255111"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
        
            gtag('config', 'AW-17534255111');
            gtag('config', 'G-8JYPJDKSP8');
        </script>
    <!-- PDF-LIB LIBRARY FOR PDF GENERATION AND MERGING -->
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@600;700&family=Inter:wght@400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: #f5f7fb;
            color: #0f172a;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        .admin-shell {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .admin-main {
            flex: 1 1 auto;
            width: 100%;
            padding: 32px 32px 64px;
        }

        .main-content {
            margin: 0 auto;
            width: 100%;
            max-width: 1320px;
            color: #0f172a;
            display: flex;
            flex-direction: column;
            gap: 32px;
        }
        
        .admin-header {
            font-size: 24px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 4px;
        }

        .admin-subtitle {
            color: #64748b;
            font-size: 14px;
            font-weight: 400;
        }
        
        .search-container {
            position: relative;
            /* Removed margin-bottom here, now controlled by header layout */
            flex: 1 1 260px;
            min-width: 220px;
        }

        .search-container input {
            width: 100%;
            padding: 10px 12px 10px 40px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            color: #0f172a;
            transition: all 0.2s ease;
        }
        
        .search-container input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .search-container i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            pointer-events: none;
        }
        
        .status-link {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            color: #1f2937;
            font-size: 14px;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.15s ease;
            cursor: pointer;
            margin-bottom: 2px;
        }

        .status-link:hover {
            background: #e2e8f0;
            color: #1d4ed8;
        }

        .status-link.active {
            background: #1d4ed8;
            color: #ffffff;
            box-shadow: 0 12px 24px -16px rgba(29, 78, 216, 0.35);
        }
        
        .status-link i {
            margin-right: 10px;
            width: 18px;
            text-align: center;
        }

        .reoffer-parent {
            color: #1f2937;
        }
        .reoffer-parent:hover {
            background: #e2e8f0;
            color: #1d4ed8;
        }
        
        .admin-topbar {
            position: sticky;
            top: 0;
            z-index: 50;
            background: rgba(245, 247, 251, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(148, 163, 184, 0.25);
        }

        .top-nav {
            margin: 0 auto;
            max-width: 1320px;
            padding: 24px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 32px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            box-shadow: 0 16px 40px -28px rgba(15, 23, 42, 0.18);
        }

        .brand-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .brand-icon {
            width: 44px;
            height: 44px;
            border-radius: 14px;
            background: #dbeafe;
            color: #1d4ed8;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .brand-name {
            font-size: 18px;
            font-weight: 700;
            color: #1d4ed8;
        }

        .brand-tagline {
            font-size: 13px;
            color: #64748b;
        }

        .brand-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .brand-icon {
            width: 44px;
            height: 44px;
            border-radius: 14px;
            background: #dbeafe;
            color: #1d4ed8;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .brand-name {
            font-size: 18px;
            font-weight: 700;
            color: #1d4ed8;
        }

        .brand-tagline {
            font-size: 13px;
            color: #64748b;
        }

        /* Adjusted top-nav h1/p style to account for new layout */
        .top-nav > div:first-child {
            flex-grow: 1;
            padding-right: 20px;
        }
        
        .top-nav h1 {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            letter-spacing: -0.02em;
        }

        .top-nav p {
            color: #475569;
            font-size: 14px;
            margin-top: 2px;
            line-height: 1.5;
            max-width: 520px;
        }

        .admin-subnav {
            margin-top: 14px;
            display: inline-flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .admin-subnav__link {
            padding: 6px 12px;
            border-radius: 9999px;
            background: #e2e8f0;
            color: #1e293b;
            font-size: 13px;
            font-weight: 600;
            text-decoration: none;
            transition: background 0.2s ease, color 0.2s ease;
        }

        .admin-subnav__link:hover {
            background: #cbd5f5;
            color: #1d4ed8;
        }

        .admin-subnav__link--active {
            background: #1d4ed8;
            color: #ffffff;
        }

        .top-nav-actions {
            display: flex;
            align-items: center;
            gap: 18px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .top-nav-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
        }

        .top-nav-button--primary {
            background: #1d4ed8;
            color: #ffffff;
            box-shadow: 0 12px 28px -18px rgba(29, 78, 216, 0.45);
        }

        .top-nav-button--primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 18px 32px -20px rgba(29, 78, 216, 0.5);
        }

        .top-nav-button--outline {
            border: 1px solid #1d4ed8;
            color: #1d4ed8;
            background: #eef2ff;
            box-shadow: 0 12px 24px -18px rgba(29, 78, 216, 0.25);
        }

        .top-nav-button--outline:hover {
            transform: translateY(-1px);
            background: #e0e7ff;
        }

        .top-nav-actions .quick-stat {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4px;
            color: #475569;
        }

        .top-nav-actions .quick-stat span {
            font-size: 13px;
            color: #64748b;
        }

        .quick-stat strong {
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
        }
        
        .insight-strip {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 32px;
        }

        .insight-pill {
            flex: 1 1 180px;
            min-width: 180px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            color: #0f172a;
            border-radius: 18px;
            padding: 20px 22px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            box-shadow: 0 12px 28px -20px rgba(15, 23, 42, 0.18);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .insight-pill:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -24px rgba(37, 99, 235, 0.3);
        }

        .insight-pill .label {
            font-size: 12px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 600;
        }

        .insight-pill .value {
            font-size: 32px;
            font-weight: 700;
            line-height: 1;
            color: #1d4ed8;
        }

        .insight-pill .subtext {
            font-size: 12px;
            color: #475569;
        }

        .insight-pill-link {
            text-decoration: none;
            color: inherit;
            position: relative;
            display: inline-flex;
            flex-direction: column;
        }

        .insight-pill-link i {
            font-size: 16px;
            margin-top: auto;
            opacity: 0.75;
            align-self: flex-end;
        }

        .filter-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 0 0 28px;
            align-items: center;
        }

        .filter-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 999px;
            border: 1px solid #e2e8f0;
            background: #ffffff;
            color: #1f2937;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.02em;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 10px 20px -18px rgba(15, 23, 42, 0.12);
            --dot-color: rgba(59, 130, 246, 0.6);
            --dot-shadow: rgba(59, 130, 246, 0.12);
        }

        .filter-chip .dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: var(--dot-color);
            box-shadow: 0 0 0 4px var(--dot-shadow);
        }

        .filter-chip.active {
            border-color: #1d4ed8;
            background: #1d4ed8;
            color: #ffffff;
            box-shadow: 0 12px 24px -16px rgba(29, 78, 216, 0.35);
        }

        .filter-chip:hover {
            transform: translateY(-1px);
            border-color: #94a3b8;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .analytics-card {
            background: #ffffff;
            border-radius: 18px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 16px 36px -28px rgba(15, 23, 42, 0.18);
            padding: 20px 20px 22px;
            backdrop-filter: blur(0px);
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-height: 0;
        }

        .site-analytics-section {
            margin-bottom: 36px;
            padding: 26px 28px;
            border-radius: 24px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 18px 40px -28px rgba(15, 23, 42, 0.2);
        }

        .site-analytics-header {
            display: flex;
            flex-wrap: wrap;
            align-items: flex-start;
            justify-content: space-between;
            gap: 18px;
            margin-bottom: 22px;
        }

        .site-analytics-header h2 {
            font-size: 22px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 4px;
        }

        .site-analytics-header p {
            color: #475569;
            font-size: 13px;
            max-width: 520px;
        }

        .site-analytics-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
        }

        .site-analytics-controls select,
        .site-analytics-controls input {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            color: #0f172a;
            font-size: 13px;
            padding: 10px 12px;
            min-width: 120px;
            box-shadow: 0 8px 20px -18px rgba(15, 23, 42, 0.12);
        }

        .site-analytics-controls select:focus,
        .site-analytics-controls input:focus {
            outline: none;
            border-color: #1d4ed8;
            box-shadow: 0 0 0 3px rgba(29, 78, 216, 0.15);
        }

        .analytics-refresh-button {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background: linear-gradient(135deg, #1d4ed8, #0ea5e9);
            color: #ffffff;
            font-weight: 600;
            box-shadow: 0 18px 40px -28px rgba(29, 78, 216, 0.45);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .analytics-refresh-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 24px 50px -28px rgba(29, 78, 216, 0.55);
        }

        .analytics-refresh-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .analytics-refresh-button.is-loading i {
            animation: analytics-spin 0.8s linear infinite;
        }

        .site-analytics-controls label.analytics-autorefresh-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #475569;
            cursor: pointer;
        }

        .site-analytics-controls label.analytics-autorefresh-toggle input {
            accent-color: #38bdf8;
        }

        .analytics-status {
            font-size: 12px;
            color: #64748b;
        }

        .analytics-status.analytics-status--error {
            color: #b91c1c;
        }

        .analytics-status.analytics-status--loading {
            color: #ca8a04;
        }

        .analytics-kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 18px;
            margin-bottom: 24px;
        }

        .analytics-kpi-card {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 18px;
            padding: 18px 20px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            color: #0f172a;
            box-shadow: 0 16px 36px -28px rgba(15, 23, 42, 0.18);
        }

        .analytics-kpi-card .label {
            font-size: 11px;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: #94a3b8;
        }

        .analytics-kpi-card .value {
            font-size: 30px;
            font-weight: 700;
            color: #1d4ed8;
        }

        .analytics-kpi-card .subtext {
            font-size: 12px;
            color: #64748b;
        }

        .analytics-main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .analytics-top-table-wrapper {
            overflow-x: auto;
        }

        .analytics-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .analytics-table thead th {
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.08em;
            color: #475569;
            padding: 10px 12px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
        }

        .analytics-table tbody td {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.18);
            color: #0f172a;
        }

        .analytics-table tbody tr:last-child td {
            border-bottom: none;
        }

        .analytics-table .progress-bar {
            position: relative;
            height: 6px;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.2);
            overflow: hidden;
        }

        .analytics-table .progress-bar span {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(14, 165, 233, 0.75));
            border-radius: inherit;
        }

        .analytics-share-label {
            font-size: 12px;
            color: #475569;
            font-weight: 600;
            margin-top: 6px;
        }

        .analytics-live-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .analytics-live-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 14px;
            padding: 10px 12px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            color: #0f172a;
        }

        .analytics-live-item span {
            font-size: 13px;
            color: #475569;
        }

        .analytics-live-item strong {
            font-size: 15px;
            color: #0f172a;
        }

        .analytics-empty-state {
            font-size: 13px;
            color: #64748b;
        }

        @keyframes analytics-spin {
            to {
                transform: rotate(360deg);
            }
        }

        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 168px;
            max-height: 180px;
        }

        .chart-wrapper--trend {
            padding: 0 0 8px;
        }

        .chart-wrapper--pie {
            width: min(220px, 100%);
            height: 190px;
            margin: 0 auto 0;
        }

        .chart-wrapper canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .analytics-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 16px;
        }

        .analytics-card-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 2px;
        }

        .analytics-card-header p {
            font-size: 13px;
            color: #475569;
        }

        .analytics-card-metric {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4px;
            min-width: 120px;
        }

        .analytics-card-metric .metric-value {
            font-size: 28px;
            font-weight: 700;
            color: #1d4ed8;
        }

        .analytics-card-metric .metric-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .analytics-conversion-recent {
            margin-top: 18px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .analytics-conversion-item {
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 12px 14px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .analytics-conversion-item h4 {
            margin: 0;
            font-size: 14px;
            font-weight: 600;
            color: #0f172a;
        }

        .analytics-conversion-item time {
            font-size: 12px;
            color: #64748b;
        }

        .analytics-conversion-item span {
            font-size: 13px;
            color: #0f172a;
            word-break: break-word;
        }

        .operations-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .brand-trust-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 32px;
            padding: 20px;
            border-radius: 18px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 18px 44px -28px rgba(15, 23, 42, 0.2);
        }

        .brand-card {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 12px;
            padding: 18px 22px;
            border-radius: 16px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            color: #0f172a;
        }

        .brand-card h3 {
            font-size: 16px;
            font-weight: 700;
            letter-spacing: 0.01em;
            color: #1e293b;
        }

        .brand-card p {
            font-size: 14px;
            line-height: 1.5;
            color: #475569;
        }

        .brand-logo-strip {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .brand-logo-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 14px;
            border-radius: 12px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .brand-logo-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 18px 30px -20px rgba(148, 163, 184, 0.35);
            background: #f8fafc;
        }

        .brand-logo-link img {
            display: block;
            height: auto;
        }

        .trustpilot-stars {
            max-width: 140px;
            height: auto;
        }

        .admin-footer {
            margin-top: 48px;
            padding: 24px 28px;
            border-radius: 20px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            color: #475569;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            box-shadow: 0 18px 44px -28px rgba(15, 23, 42, 0.18);
        }

        .admin-footer-links {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            font-size: 13px;
        }

        .admin-footer-links a {
            color: #1d4ed8;
            text-decoration: none;
            font-weight: 500;
        }

        .admin-footer-links a:hover {
            text-decoration: underline;
        }

        .admin-footer-logos {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .admin-footer-copy {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            color: #475569;
        }

        .admin-footer-copy strong {
            font-size: 15px;
            letter-spacing: 0.01em;
            color: #0f172a;
        }

        .admin-footer-copy span {
            color: #64748b;
        }

        .operations-card {
            background: #ffffff;
            border-radius: 18px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 16px 36px -28px rgba(15, 23, 42, 0.18);
            padding: 20px 22px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .operations-card-header h3 {
            font-size: 17px;
            font-weight: 700;
            color: #0f172a;
        }

        .operations-card-header p {
            font-size: 13px;
            color: #475569;
            margin-top: 4px;
        }

        .operations-card-list {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .operations-card-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            padding: 12px 14px;
            border-radius: 14px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
        }

        .operations-card-list li.empty {
            justify-content: center;
            color: #64748b;
            font-weight: 600;
        }

        .watchlist-meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .watchlist-order-id {
            font-weight: 700;
            font-size: 14px;
            color: #1e293b;
        }

        .watchlist-status {
            font-size: 12px;
            font-weight: 600;
            color: #2563eb;
        }

        .watchlist-age {
            font-size: 12px;
            color: #475569;
        }

        .watchlist-view-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 999px;
            border: 1px solid rgba(59, 130, 246, 0.4);
            color: #1d4ed8;
            background: rgba(59, 130, 246, 0.12);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .watchlist-view-btn:hover {
            background: rgba(59, 130, 246, 0.18);
            border-color: rgba(59, 130, 246, 0.55);
            color: #1e40af;
        }

        .quick-links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .quick-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 14px;
            border-radius: 14px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            font-weight: 600;
            font-size: 13px;
            color: #0f172a;
            text-decoration: none;
            transition: transform 0.18s ease, box-shadow 0.18s ease;
        }

        .quick-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px -18px rgba(29, 78, 216, 0.25);
            color: #1d4ed8;
        }

        .quick-link i {
            color: #2563eb;
            font-size: 15px;
        }

        .mobile-quick-actions {
            display: none;
            margin: 0 0 24px;
            padding: 18px;
            border-radius: 18px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 18px 36px -28px rgba(15, 23, 42, 0.18);
            flex-direction: column;
            gap: 16px;
        }

        .mobile-search {
            position: relative;
        }

        .mobile-search input {
            width: 100%;
            padding: 12px 12px 12px 40px;
            border-radius: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.92);
            font-size: 14px;
            color: #0f172a;
        }

        .mobile-search i {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .mobile-stat-row {
            display: flex;
            gap: 12px;
        }

        .mobile-stat {
            flex: 1;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 14px;
            padding: 12px 14px;
            color: #0f172a;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .mobile-stat span {
            font-size: 12px;
            letter-spacing: 0.02em;
            text-transform: uppercase;
            color: #64748b;
        }

        .mobile-stat strong {
            font-size: 18px;
            color: #1d4ed8;
        }

        .trend-delta {
            font-size: 14px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.12);
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: #1e293b;
        }

        .trend-delta.trend-up {
            background: rgba(34, 197, 94, 0.12);
            border-color: rgba(34, 197, 94, 0.35);
            color: #15803d;
        }

        .trend-delta.trend-down {
            background: rgba(248, 113, 113, 0.12);
            border-color: rgba(248, 113, 113, 0.4);
            color: #b91c1c;
        }

        .trend-delta.trend-neutral {
            background: rgba(148, 163, 184, 0.12);
            border-color: rgba(148, 163, 184, 0.4);
            color: #1e293b;
        }

        .status-breakdown-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 8px 0 0;
            padding: 0;
            list-style: none;
        }

        .status-breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 14px;
            border-radius: 14px;
            border: 1px solid #e2e8f0;
            background: #ffffff;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease, color 0.2s ease;
        }

        .status-breakdown-item:hover {
            background: #f1f5f9;
            transform: translateY(-1px);
        }

        .status-breakdown-item.active {
            border-color: #1d4ed8;
            background: #1d4ed8;
            color: #ffffff;
        }

        .status-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-label {
            font-size: 13px;
            font-weight: 600;
            color: #1f2937;
        }

        .status-count {
            font-size: 14px;
            font-weight: 700;
            color: #1d4ed8;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 999px;
            box-shadow: 0 0 0 4px rgba(148, 163, 184, 0.18);
        }

        .status-breakdown-item.active .status-dot {
            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.25);
        }

        .status-breakdown-item.active .status-label,
        .status-breakdown-item.active .status-count {
            color: #ffffff;
        }

        .status-dot-all { background: #38bdf8; }
        .status-dot-pending { background: #6366f1; }
        .status-dot-printing { background: #8b5cf6; }
        .status-dot-kit-sent { background: #f97316; }
        .status-dot-kit-delivered { background: #10b981; }
        .status-dot-label { background: #f59e0b; }
        .status-dot-emailed { background: #38bdf8; }
        .status-dot-received { background: #0ea5e9; }
        .status-dot-completed { background: #22c55e; }
        .status-dot-reoffer-pending { background: #facc15; }
        .status-dot-reoffer-accepted { background: #14b8a6; }
        .status-dot-reoffer-declined { background: #ef4444; }
        .status-dot-return { background: #64748b; }

        @media (max-width: 768px) {
            .insight-strip {
                flex-direction: column;
            }
            .insight-pill {
                width: 100%;
            }
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }
        .accent-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 8px;
        }
        
        .orders-section {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .orders-layout {
            display: grid;
            grid-template-columns: minmax(0, 1fr) 360px;
            gap: 24px;
            align-items: flex-start;
        }

        .orders-table-container {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 44px -28px rgba(15, 23, 42, 0.22);
            position: relative;
        }

        .orders-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            padding: 20px 24px 12px;
        }
        .orders-toolbar-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .view-controls {
            display: flex;
            align-items: center;
            gap: 14px;
            flex-wrap: wrap;
        }

        .mass-print-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            border: 1px solid #10b981;
            background: #ecfdf5;
            color: #047857;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .mass-print-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .mass-print-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 12px 24px -18px rgba(16, 185, 129, 0.35);
        }

        .density-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 999px;
            border: 1px solid #e2e8f0;
            background: #ffffff;
            color: #1f2937;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .density-toggle input {
            accent-color: #2563eb;
        }

        .density-toggle:hover {
            border-color: #94a3b8;
            box-shadow: 0 8px 20px -16px rgba(148, 163, 184, 0.35);
        }

        .refresh-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            border: 1px solid #1d4ed8;
            background: #e0e7ff;
            color: #1d4ed8;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .refresh-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .refresh-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 12px 26px -18px rgba(37, 99, 235, 0.65);
        }
        
        .orders-toolbar-feedback {
            margin: 0 24px 12px;
            font-size: 13px;
            font-weight: 600;
            color: #2563eb;
            background: rgba(224, 231, 255, 0.45);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            padding: 10px 14px;
        }

        .orders-toolbar-feedback.success {
            color: #047857;
            border-color: rgba(16, 185, 129, 0.35);
            background: rgba(167, 243, 208, 0.45);
        }

        .orders-toolbar-feedback.error {
            color: #b91c1c;
            border-color: rgba(248, 113, 113, 0.45);
            background: rgba(254, 226, 226, 0.45);
        }
        
        .orders-table-header {
            font-size: 18px;
            font-weight: 600;
            color: #0f172a;
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
            background: #ffffff;
        }

        .orders-table-wrapper {
            overflow-x: auto;
            border-top: 1px solid rgba(148, 163, 184, 0.18);
        }

        table.orders-table {
            width: 100%;
            min-width: 960px;
            border-collapse: separate;
            border-spacing: 0;
        }

        .orders-table thead th {
            text-align: left;
            font-size: 11px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: #475569;
            padding: 14px 18px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .orders-table tbody td {
            padding: 16px 18px;
            font-size: 14px;
            color: #0f172a;
            border-bottom: 1px solid rgba(148, 163, 184, 0.14);
        }

        .orders-table tbody tr:last-child td {
            border-bottom: none;
        }

        .orders-table tbody tr:hover {
            background: rgba(226, 232, 240, 0.35);
        }

        .pagination-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            border-top: 1px solid #e2e8f0;
            background: #ffffff;
        }

        .pagination-controls.hidden {
            display: none;
        }

        .pagination-actions {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .pagination-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.35);
            background: white;
            color: #1d4ed8;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-button:not(:disabled):hover {
            box-shadow: 0 12px 24px -18px rgba(37, 99, 235, 0.5);
            transform: translateY(-1px);
        }

        .pagination-pages {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pagination-page-button {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid rgba(148, 163, 184, 0.45);
            background: white;
            color: #1e293b;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-page-button:hover:not(:disabled) {
            background: #2563eb;
            color: #ffffff;
            border-color: #2563eb;
        }

        .pagination-page-button.active {
            background: #2563eb;
            color: #ffffff;
            border-color: #2563eb;
            cursor: default;
        }

        .pagination-page-button:disabled {
            opacity: 0.6;
            cursor: default;
        }

        .pagination-ellipsis {
            font-size: 13px;
            font-weight: 600;
            color: #94a3b8;
        }

        .pagination-info {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
        }

        #no-orders-message {
            padding: 24px;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
        }

        #no-orders-message.hidden {
            display: none;
        }

        @media (max-width: 1024px) {
            table.orders-table {
                min-width: 720px;
            }

            .orders-layout {
                grid-template-columns: 1fr;
            }

            #order-details-modal {
                position: relative;
                top: 0;
                max-height: none;
            }

            .brand-trust-section {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                padding: 18px;
            }

            .admin-footer {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        .user-id-badge {
            display: none; /* Hide since sidebar is gone */
        }
        
        .floating-chat-btn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366F1 0%, #3b82f6 100%);
            color: white;
            border: none;
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .floating-chat-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(99, 102, 241, 0.5);
        }
        
        .floating-chat-btn .unread-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ef4444;
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 12px;
            min-width: 24px;
            text-align: center;
        }
        
        .notification-bell {
            position: relative;
            cursor: pointer;
            color: #64748b;
            font-size: 20px;
            transition: color 0.2s ease;
        }

        .notification-bell:hover {
            color: #1d4ed8;
        }
        
        .notification-bell .badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }
        
        .chat-dashboard-btn {
            display: none; /* Removed as requested */
        }
        
        .logout-btn {
            padding: 8px 16px;
            background: #1d4ed8;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 12px 24px -18px rgba(29, 78, 216, 0.35);
        }

        .logout-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 16px 32px -20px rgba(29, 78, 216, 0.45);
        }
        
        .time-display {
            font-size: 14px;
            color: #475569;
            font-weight: 500;
        }

        .orders-toolbar-note {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
        }

        #orders-table-body {
            background: transparent;
        }
        #orders-table-body tr {
            background: #ffffff;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        #orders-table-body tr:nth-child(even) {
            background: #f1f5f9;
        }
        #orders-table-body tr:hover {
            transform: translateY(-2px);
            box-shadow: 0 18px 35px -28px rgba(15, 23, 42, 0.45);
        }

        #orders-table-body.density-compact td {
            padding-top: 10px !important;
            padding-bottom: 10px !important;
            font-size: 13px;
        }

        #orders-table-body.density-compact .status-bubble {
            transform: scale(0.96);
        }
        
        @media (max-width: 768px) {
            body {
                padding: 0 12px 40px;
            }
            .main-content {
                margin: 16px auto;
                padding: 18px 16px;
            }
            .main-content::before {
                border-radius: 20px;
            }
            .top-nav {
                display: none;
            }
            .mobile-quick-actions {
                display: flex;
            }
            .filter-bar {
                gap: 8px;
                flex-wrap: wrap;
            }
            .filter-chip {
                flex: 1 1 calc(50% - 8px);
                justify-content: center;
            }
            .insight-strip {
                flex-direction: column;
            }
            .insight-pill {
                width: 100%;
            }
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            .brand-trust-section {
                margin-top: 24px;
                padding: 16px;
            }
            .brand-card {
                padding: 16px 18px;
            }
            .operations-highlights {
                grid-template-columns: 1fr;
            }
            .orders-toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            .view-controls {
                width: 100%;
                justify-content: space-between;
            }
            .floating-chat-btn {
                width: 56px;
                height: 56px;
                bottom: 16px;
                right: 16px;
                font-size: 20px;
            }
            .admin-footer {
                padding: 20px;
                gap: 12px;
            }
        }
        
        .submenu-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .submenu-container.open {
            max-height: 200px;
        }
        
        .status-bubble {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-bubble-text {
            display: block;
        }
        
        .status-bubble-subtext {
            display: block;
            font-size: 11px;
            margin-top: 2px;
            opacity: 0.8;
        }
        
        .notification-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 380px;
            max-height: 500px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            border: 1px solid #e2e8f0;
            z-index: 1000;
            display: none;
            overflow: hidden;
        }
        
        .notification-dropdown.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .notification-dropdown-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
        }
        
        .notification-dropdown-header h4 {
            font-size: 16px;
            font-weight: 700;
            color: #0f172a;
        }
        
        .notification-item {
            padding: 16px 20px;
            border-bottom: 1px solid #f1f5f9;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .notification-item:hover {
            background-color: #f8fafc;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-empty {
            padding: 24px 16px;
            text-align: center;
            color: #94a3b8;
            font-size: 14px;
        }

        .notification-empty p {
            margin: 0;
        }

        .notification-layout {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            align-items: flex-start;
        }

        .notification-copy {
            flex: 1;
        }

        .notification-name {
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 4px;
        }

        .notification-device {
            font-size: 13px;
            color: #64748b;
            margin-bottom: 4px;
        }

        .notification-status {
            font-size: 12px;
            font-weight: 600;
            margin: 0;
        }

        .notification-meta {
            text-align: right;
        }

        .notification-meta p {
            font-size: 12px;
            color: #94a3b8;
            margin: 0;
        }
        
        .notification-dropdown-footer {
            padding: 12px 20px;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
            text-align: center;
        }
        
        .notification-dropdown-footer a {
            color: #3b82f6;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .notification-dropdown-footer a:hover {
            color: #2563eb;
        }
        
        #order-details-modal {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            box-shadow: 0 24px 48px -28px rgba(15, 23, 42, 0.2);
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            position: sticky;
            top: 96px;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        #order-details-modal.hidden {
            display: none;
        }

        #order-details-modal .order-details-close {
            align-self: flex-end;
            border: none;
            background: transparent;
            color: #94a3b8;
            font-size: 20px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        #order-details-modal .order-details-close:hover {
            color: #1d4ed8;
        }

        #order-details-modal h3 {
            color: #0f172a;
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        #order-details-modal .space-y-3 p {
            color: #1e293b;
        }

        #order-details-modal .space-y-3 strong {
            color: #0f172a;
        }

        #modal-action-buttons {
            margin-top: 28px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        #modal-action-buttons > * {
            width: 100%;
        }

        #modal-action-buttons button {
            justify-content: center;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-align: center;
            min-height: 44px;
            box-shadow: 0 18px 36px -28px rgba(15, 23, 42, 0.45);
        }

        #modal-loading-message {
            margin-top: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #2563eb;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }

        #modal-loading-message.hidden {
            display: none;
        }

        #modal-message {
            border-radius: 12px;
        }

        #modal-activity-log {
            margin-top: 32px;
            border-top: 1px solid rgba(148, 163, 184, 0.3);
            padding-top: 20px;
        }

        #modal-activity-log.hidden {
            display: none;
        }

        #modal-activity-log h4 {
            font-size: 16px;
            font-weight: 600;
            color: #0f172a;
        }

        #modal-activity-log-list {
            margin-top: 14px;
            display: grid;
            gap: 12px;
        }

        #modal-activity-log-list li {
            list-style: none;
            padding: 12px 16px;
            border-radius: 12px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            color: #0f172a;
        }

        #modal-activity-log-list li span {
            color: #475569;
        }
        
        .loading-screen {
            position: fixed;
            inset: 0;
            background: #F5F6F8;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .loading-screen.hidden {
            display: none;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #e2e8f0;
            border-top-color: #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body data-admin-page="orders">
    <div id="auth-loading-screen" class="loading-screen">
        <div style="text-align: center;">
            <div class="loading-spinner" style="margin: 0 auto;"></div>
            <p style="margin-top: 20px; color: #64748b; font-weight: 600;">Checking authentication...</p>
        </div>
    </div>

    <!-- REMOVED ASIDE.SIDEBAR -->

    <div class="admin-shell">
        <header class="admin-topbar">
            <div class="top-nav">
                <div>
                <div class="brand-badge">
                    <div class="brand-icon">S</div>
                    <div class="brand-text">
                        <span class="brand-name">SecondhandCell</span>
                        <span class="brand-tagline">Buyback operations dashboard</span>
                    </div>
                </div>
                <h1>Order Operations Hub</h1>
                <p>Monitor conversations, preview what customers are typing, and trigger ShipEngine actions without leaving the dashboard.</p>
                <nav class="admin-subnav">
                    <a class="admin-subnav__link admin-subnav__link--active" href="/admin/index.html">Orders</a>
                    <a class="admin-subnav__link" href="/admin/analytics/index.html">Analytics</a>
                    <a class="admin-subnav__link" href="/admin/aging/index.html">Aging</a>
                    <a class="admin-subnav__link" href="/admin/bulk-print/index.html">Bulk Print</a>
                </nav>
                </div>
                <div class="top-nav-actions">
                <a class="top-nav-button top-nav-button--outline" href="/sell-device.html" target="_blank" rel="noopener">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Get Quote</span>
                </a>
                <a class="top-nav-button top-nav-button--primary" href="/admin/chat/index.html">
                    <i class="fas fa-comments"></i>
                    <span>Live Support</span>
                </a>
                <div class="search-container">
                    <input type="text" id="search-orders" placeholder="Search orders, customers, tracking...">
                    <i class="fas fa-search"></i>
                </div>
                <div class="time-display" id="current-time-date"></div>
                <div class="quick-stat" title="Orders that are not yet completed">
                    <span>Live Orders</span>
                    <strong id="live-orders-count">0</strong>
                </div>
                <div class="quick-stat" title="Average payout on completed orders">
                    <span>Avg. Payout</span>
                    <strong id="average-payout-amount">$0.00</strong>
                </div>
                <div class="notification-bell" id="notification-bell-container" style="position: relative;">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notification-badge" style="display: none;">0</span>
                    <div id="notification-dropdown" class="notification-dropdown">
                        <div class="notification-dropdown-header">
                            <h4>Recent Notifications</h4>
                        </div>
                        <div id="notification-list" style="max-height: 360px; overflow-y: auto;">
                            <div class="notification-item" style="text-align: center; color: #94a3b8;">
                                <p>No new notifications</p>
                            </div>
                        </div>
                        <div class="notification-dropdown-footer">
                            <a href="#" onclick="document.querySelectorAll('.status-link')[0].click(); document.getElementById('notification-dropdown').classList.remove('show'); return false;">View All Orders</a>
                        </div>
                    </div>
                </div>
                <button class="logout-btn" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <div class="main-content">
                <div class="mobile-quick-actions">
            <div class="mobile-search">
                <i class="fas fa-search"></i>
                <input type="text" id="mobile-search-orders" placeholder="Search orders, customers, tracking...">
            </div>
            <div class="mobile-stat-row">
                <div class="mobile-stat">
                    <span>Live Orders</span>
                    <strong id="mobile-live-orders-count">0</strong>
                </div>
                <div class="mobile-stat">
                    <span>Avg. Payout</span>
                    <strong id="mobile-average-payout-amount">$0.00</strong>
                </div>
            </div>
        </div>

        <div class="filter-bar" id="status-filter-bar">
            <button class="filter-chip active" data-status-filter="all" style="--dot-color: #38bdf8; --dot-shadow: rgba(56, 189, 248, 0.22)">
                <span class="dot"></span>
                All orders
            </button>
            <button class="filter-chip" data-status-filter="order_pending" style="--dot-color: #22c55e; --dot-shadow: rgba(34, 197, 94, 0.22)">
                <span class="dot"></span>
                New quotes
            </button>
            <button class="filter-chip" data-status-filter="kit_needs_printing" style="--dot-color: #a855f7; --dot-shadow: rgba(168, 85, 247, 0.22)">
                <span class="dot"></span>
                Needs printing
            </button>
            <button class="filter-chip" data-status-filter="kit_sent" style="--dot-color: #f97316; --dot-shadow: rgba(249, 115, 22, 0.22)">
                <span class="dot"></span>
                Kits in transit
            </button>
            <button class="filter-chip" data-status-filter="kit_delivered" style="--dot-color: #10b981; --dot-shadow: rgba(16, 185, 129, 0.22)">
                <span class="dot"></span>
                Kits delivered
            </button>
            <button class="filter-chip" data-status-filter="received" style="--dot-color: #0ea5e9; --dot-shadow: rgba(14, 165, 233, 0.22)">
                <span class="dot"></span>
                Received & processing
            </button>
            <button class="filter-chip" data-status-filter="completed" style="--dot-color: #6366f1; --dot-shadow: rgba(99, 102, 241, 0.22)">
                <span class="dot"></span>
                Paid out
            </button>
            <button class="filter-chip" data-status-filter="re-offered-pending" style="--dot-color: #facc15; --dot-shadow: rgba(250, 204, 21, 0.22)">
                <span class="dot"></span>
                Reoffer pending
            </button>
            <button class="filter-chip" data-status-filter="return-label-generated" style="--dot-color: #ef4444; --dot-shadow: rgba(239, 68, 68, 0.22)">
                <span class="dot"></span>
                Return label sent
            </button>
        </div>

        <div class="insight-strip">
            <div class="insight-pill">
                <span class="label">Orders Today</span>
                <span class="value" id="orders-today-count">0</span>
                <span class="subtext">New submissions</span>
            </div>
            <div class="insight-pill">
                <span class="label">Total Completed Payout</span>
                <span class="value" id="total-payout-amount">$0.00</span>
                <span class="subtext">Across closed orders</span>
            </div>
            <div class="insight-pill">
                <span class="label">Completion Rate</span>
                <span class="value" id="conversion-rate">0.0%</span>
                <span class="subtext">Quotes to payouts</span>
            </div>
            <div class="insight-pill">
                <span class="label">Devices Received</span>
                <span class="value" id="received-devices-count">0</span>
                <span class="subtext">Awaiting inspection</span>
            </div>
            <a class="insight-pill insight-pill-link" href="chat/index.html">
                <span class="label">Active Chats</span>
                <span class="value" id="active-chats-count">0</span>
                <span class="subtext">Support queue</span>
                <i class="fas fa-arrow-up-right-from-square"></i>
            </a>
        </div>

        

        <div class="analytics-grid">
            <div class="analytics-card">
                <div class="analytics-card-header">
                    <div>
                        <h3>Order Volume</h3>
                        <p>Last 14 days of new requests</p>
                    </div>
                    <span id="orders-trend-delta" class="trend-delta trend-neutral">0%</span>
                </div>
                <div class="chart-wrapper chart-wrapper--trend">
                    <canvas id="orders-trend-chart" height="100"></canvas>
                </div>
            </div>
            <div class="analytics-card">
                <div class="analytics-card-header">
                    <div>
                        <h3>Status Breakdown</h3>
                        <p>Tap a status to filter the table</p>
                    </div>
                </div>
                <div class="chart-wrapper chart-wrapper--pie">
                    <canvas id="orders-status-chart" height="100"></canvas>
                </div>
                <ul id="status-breakdown-list" class="status-breakdown-list">
                    <li class="status-breakdown-item active" data-status="all" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-all"></span>
                            <span class="status-label">All Orders</span>
                        </div>
                        <span class="status-count" id="status-count-all">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="order_pending" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-pending"></span>
                            <span class="status-label">Order Pending</span>
                        </div>
                        <span class="status-count" id="order-pending-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_needs_printing" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-printing"></span>
                            <span class="status-label">Needs Printing</span>
                        </div>
                        <span class="status-count" id="kit-needs-printing-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_sent" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-kit-sent"></span>
                            <span class="status-label">Kit Sent</span>
                        </div>
                        <span class="status-count" id="kit-sent-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_delivered" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-kit-delivered"></span>
                            <span class="status-label">Kit Delivered</span>
                        </div>
                        <span class="status-count" id="kit-delivered-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="label_generated" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-label"></span>
                            <span class="status-label">Label Generated</span>
                        </div>
                        <span class="status-count" id="label-generated-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="emailed" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-emailed"></span>
                            <span class="status-label">Emailed</span>
                        </div>
                        <span class="status-count" id="emailed-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="received" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-received"></span>
                            <span class="status-label">Received</span>
                        </div>
                        <span class="status-count" id="received-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="completed" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-completed"></span>
                            <span class="status-label">Completed</span>
                        </div>
                        <span class="status-count" id="completed-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-pending" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-pending"></span>
                            <span class="status-label">Reoffer Pending</span>
                        </div>
                        <span class="status-count" id="re-offered-pending-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-accepted" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-accepted"></span>
                            <span class="status-label">Reoffer Accepted</span>
                        </div>
                        <span class="status-count" id="re-offered-accepted-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-declined" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-declined"></span>
                            <span class="status-label">Reoffer Declined</span>
                        </div>
                        <span class="status-count" id="re-offered-declined-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="return-label-generated" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-return"></span>
                            <span class="status-label">Return Label Sent</span>
                        </div>
                        <span class="status-count" id="return-label-generated-count">0</span>
                    </li>
                </ul>
            </div>
        </div>

        
        <section class="orders-section">
            <div class="orders-layout">
                        <div class="orders-table-container">
                            <div class="orders-table-header">Orders List</div>
                            <div class="orders-toolbar">
                                <div class="view-controls">
                                    <label class="density-toggle" for="compact-density-toggle">
                                        <input type="checkbox" id="compact-density-toggle">
                                        Compact rows
                                    </label>
                                    <span class="orders-toolbar-note" id="last-refresh-at">Updated just now</span>
                                </div>
                                <div class="orders-toolbar-actions">
                                    <button class="mass-print-btn" id="mass-print-btn" disabled>
                                        <i class="fas fa-print"></i>
                                        Print selected kits
                                    </button>
                                    <button class="refresh-btn" id="refresh-orders-btn">
                                        <i class="fas fa-rotate"></i>
                                        Refresh data
                                    </button>
                                </div>
                            </div>
                            <div id="orders-toolbar-feedback" class="orders-toolbar-feedback hidden"></div>
                            <div class="orders-table-wrapper">
                                <table class="orders-table">
                                    <thead>
                                        <tr>
                                            <th class="w-12 text-center">
                                                <input type="checkbox" id="orders-select-all">
                                            </th>
                                            <th>Order ID</th>
                                            <th>Order Date</th>
                                            <th>Last Updated</th>
                                            <th>Customer</th>
                                            <th>Item</th>
                                            <th>Status</th>
                                            <th>Tracking #</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="orders-table-body">
                                        <tr><td colspan="9" class="py-8 text-center text-slate-500">Loading orders...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="no-orders-message" class="hidden">No orders found for this status.</div>
                            <div id="pagination-controls" class="pagination-controls hidden">
                                <span class="pagination-info" id="pagination-info">Page 1 of 1</span>
                                <div class="pagination-actions">
                                    <button id="pagination-first" class="pagination-button" disabled>
                                        <i class="fas fa-angles-left"></i>
                                        First
                                    </button>
                                    <button id="pagination-prev" class="pagination-button" disabled>
                                        <i class="fas fa-arrow-left"></i>
                                        Previous
                                    </button>
                                    <div id="pagination-pages" class="pagination-pages"></div>
                                    <button id="pagination-next" class="pagination-button">
                                        Next
                                        <i class="fas fa-arrow-right"></i>
                                    </button>
                                    <button id="pagination-last" class="pagination-button">
                                        Last
                                        <i class="fas fa-angles-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                <aside id="order-details-modal" class="hidden">
                    <button id="close-modal" class="order-details-close" type="button" aria-label="Close details">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="space-y-4 text-slate-700">
                        <h3 class="text-2xl font-bold text-slate-900">Order Details <span id="modal-order-id" class="text-sky-600"></span></h3>
                        <div class="grid gap-3 text-sm">
                            <p><strong>Customer:</strong> <span id="modal-customer-name"></span></p>
                            <p><strong>Email:</strong> <span id="modal-customer-email"></span></p>
                            <p><strong>Phone:</strong> <span id="modal-customer-phone"></span></p>
                            <p><strong>Item:</strong> <span id="modal-item"></span></p>
                            <p><strong>Storage:</strong> <span id="modal-storage"></span></p>
                            <p><strong>Carrier:</strong> <span id="modal-carrier"></span></p>
                            <p><strong>Estimated Payout:</strong> $<span id="modal-price"></span></p>
                            <p><strong>Payment Method:</strong> <span id="modal-payment-method"></span></p>
                            <p id="modal-venmo-username-row" class="hidden"><strong>Venmo Username:</strong> <span id="modal-venmo-username"></span></p>
                            <p id="modal-paypal-email-row" class="hidden"><strong>PayPal Email:</strong> <span id="modal-paypal-email"></span></p>
                            <p id="modal-zelle-details-row" class="hidden"><strong>Zelle Info:</strong> <span id="modal-zelle-details"></span></p>
                            <p><strong>Shipping Address:</strong> <span id="modal-shipping-address"></span></p>
                            <div>
                                <strong>Conditions:</strong>
                                <ul class="list-disc list-inside ml-4 mt-1 space-y-1">
                                    <li>Powers On: <span id="modal-condition-power-on"></span></li>
                                    <li>Fully Functional: <span id="modal-condition-functional"></span></li>
                                    <li>No Cracks: <span id="modal-condition-cracks"></span></li>
                                    <li>Cosmetic: <span id="modal-condition-cosmetic"></span></li>
                                </ul>
                            </div>
                            <div class="flex items-center gap-3">
                                <strong>Current Status:</strong>
                                <div id="modal-status-wrapper" class="relative">
                                    <button id="modal-status" type="button" class="inline-flex items-center gap-2 font-semibold text-xs px-3 py-1 rounded-full border border-transparent shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400">
                                        <span id="modal-status-text"></span>
                                        <svg id="modal-status-caret" class="h-3 w-3 text-current transition-transform" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                    </button>
                                    <div id="modal-status-dropdown" class="hidden absolute z-30 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-xl py-2"></div>
                                </div>
                            </div>
                            <p><strong>Order Age:</strong> <span id="modal-order-age">Calculating</span></p>
                            <p><strong>Last Reminder:</strong> <span id="modal-last-reminder-date">N/A</span></p>
                            <p id="modal-label-row" class="hidden"><strong><span id="modal-label-description">Shipping Label</span>:</strong> <a id="modal-label-link" href="#" target="_blank" class="text-sky-600 hover:underline">View Label</a> (<span id="modal-tracking-number"></span>)</p>
                            <p id="modal-secondary-label-row" class="hidden"><strong><span id="modal-secondary-label-description">Secondary Label</span>:</strong> <a id="modal-secondary-label-link" href="#" target="_blank" class="text-sky-600 hover:underline">View Label</a> (<span id="modal-secondary-tracking-number-display"></span>)</p>
                            <p id="modal-return-label-row" class="hidden"><strong><span id="modal-return-label-description">Return Label</span>:</strong> <a id="modal-return-label-link" href="#" target="_blank" class="text-rose-600 hover:underline">View Return Label</a> (<span id="modal-return-tracking-number-display"></span>)</p>
                            <div id="modal-label-status-row" class="hidden bg-slate-100 border border-slate-200 rounded-lg p-3 space-y-2">
                                <div class="flex items-center justify-between gap-3">
                                    <p id="modal-label-status-title" class="text-sm font-semibold text-slate-700">Label Delivery Status</p>
                                    <button id="modal-refresh-label-tracking" type="button" class="hidden inline-flex items-center gap-2 rounded-md border border-slate-300 bg-white px-3 py-1 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-slate-400">
                                        <i class="fas fa-rotate"></i>
                                        Refresh
                                    </button>
                                </div>
                                <p id="modal-label-status" class="text-sm text-slate-600"></p>
                            </div>
                            <div id="modal-kit-tracking-row" class="hidden bg-slate-100 border border-slate-200 rounded-lg p-3">
                                <p id="modal-kit-tracking-title" class="text-sm font-semibold text-slate-700">Kit Delivery Status</p>
                                <p id="modal-kit-tracking-status" class="mt-1 text-slate-600"></p>
                                <p id="modal-kit-tracking-updated" class="mt-1 text-xs text-slate-500"></p>
                            </div>
                            <div id="modal-loading-message" class="hidden">
                                <i class="fas fa-spinner fa-spin"></i>
                                Processing request
                            </div>
                        </div>

                        <div id="reoffer-form-container" class="mt-6 p-4 border border-slate-200 rounded-lg hidden">
                            <h4 class="text-lg font-semibold text-slate-900 mb-4">Propose New Offer</h4>
                            <div class="space-y-4">
                                <div>
                                    <label for="reoffer-new-price" class="block text-sm font-medium text-slate-700">New Offer Price ($)</label>
                                    <input type="number" id="reoffer-new-price" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 150.00">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700">Reasons</label>
                                    <div class="mt-1 space-y-2">
                                        <div class="flex items-center gap-2">
                                            <input id="reason-damaged" name="reoffer-reasons" type="checkbox" value="damaged" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                            <label for="reason-damaged" class="text-sm text-slate-700">Damaged (includes cracks)</label>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <input id="reason-deep-scratches" name="reoffer-reasons" type="checkbox" value="deep-scratches" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                            <label for="reason-deep-scratches" class="text-sm text-slate-700">Deep Scratches</label>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <input id="reason-wrong-device" name="reoffer-reasons" type="checkbox" value="wrong-device" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                            <label for="reason-wrong-device" class="text-sm text-slate-700">Wrong Device Sent</label>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <input id="reason-non-functional" name="reoffer-reasons" type="checkbox" value="non-functional" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                            <label for="reason-non-functional" class="text-sm text-slate-700">Non-Functional Component</label>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <input id="reason-other" name="reoffer-reasons" type="checkbox" value="other" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                            <label for="reason-other" class="text-sm text-slate-700">Other</label>
                                        </div>
                                    </div>
                                </div>
                                <div id="reoffer-pricing-helper" class="mt-4 p-3 bg-slate-50 border border-slate-200 rounded-lg hidden">
                                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1">
                                        <p class="text-sm font-semibold text-slate-700">Feed Pricing Suggestions</p>
                                        <span id="reoffer-pricing-model" class="text-xs uppercase tracking-wide text-slate-500"></span>
                                    </div>
                                    <p class="text-xs text-slate-500 mt-1">Click a value below to populate the new offer amount.</p>
                                    <div id="reoffer-pricing-values" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
                                    <p id="reoffer-pricing-message" class="mt-2 text-xs text-rose-500 hidden"></p>
                                </div>
                                <div>
                                    <label for="reoffer-comments" class="block text-sm font-medium text-slate-700">Additional Comments</label>
                                    <textarea id="reoffer-comments" rows="3" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="Enter additional details here..."></textarea>
                                </div>
                            </div>
                            <div class="mt-4 flex justify-end gap-3">
                                <button id="cancel-reoffer-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                                <button id="submit-reoffer-btn" type="button" class="bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Send Re-offer</button>
                            </div>
                            <span id="orders-trend-delta" class="trend-delta trend-neutral">0%</span>
                        </div>

                        <div id="manual-fulfillment-form-container" class="mt-6 p-4 border border-slate-200 rounded-lg hidden">
                            <h4 class="text-lg font-semibold text-slate-900 mb-4">Manually Fulfill Order (External Label)</h4>
                            <p id="manual-fulfillment-message" class="text-sm text-slate-600 mb-4">Enter the tracking number(s) generated externally. This will update the order status and notify the customer.</p>
                            <div class="space-y-4">
                                <div id="manual-outbound-tracking-group">
                                    <label for="manual-outbound-tracking" class="block text-sm font-medium text-slate-700">Outbound Kit Tracking # (Required for Kits)</label>
                                    <input type="text" id="manual-outbound-tracking" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 9400 1000 0000 0000 0000 00">
                                </div>
                                <div id="manual-inbound-tracking-group">
                                    <label for="manual-inbound-tracking" class="block text-sm font-medium text-slate-700">Inbound Device Tracking # (Required)</label>
                                    <input type="text" id="manual-inbound-tracking" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 9400 1000 0000 0000 0000 01">
                                </div>
                                <div>
                                    <label for="manual-label-url" class="block text-sm font-medium text-slate-700">Inbound Label URL (Optional - direct PDF link)</label>
                                    <input type="url" id="manual-label-url" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="https://example.com/label.pdf">
                                </div>
                            </div>
                            <div class="mt-4 flex justify-end gap-3">
                                <button id="cancel-manual-fulfillment-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                                <button id="submit-manual-fulfillment-btn" type="button" class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Confirm Fulfillment</button>
                            </div>
                        </div>

                        <div id="cancel-order-form-container" class="mt-6 p-4 border border-rose-200 bg-rose-50 rounded-lg hidden">
                            <h4 class="text-lg font-semibold text-rose-600 mb-2">Cancel Order &amp; Void Labels</h4>
                            <p id="cancel-order-message" class="text-sm text-rose-700">Select the shipping labels that should be voided before cancelling this order.</p>
                            <div id="cancel-order-void-options" class="mt-4 space-y-3"></div>
                            <p id="cancel-order-error" class="mt-3 text-sm text-rose-600 hidden"></p>
                            <div class="mt-4 flex justify-end gap-3">
                                <button id="cancel-cancel-order-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Back</button>
                                <button id="confirm-cancel-order-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Void Labels &amp; Cancel Order</button>
                            </div>
                        </div>

                        <div id="void-label-form-container" class="mt-6 p-4 border border-rose-200 bg-rose-50 rounded-lg hidden">
                            <h4 class="text-lg font-semibold text-rose-600 mb-2">Void Shipping Labels</h4>
                            <p class="text-sm text-rose-700">Select the labels you would like to cancel. Carrier approval may vary based on label age and usage.</p>
                            <div id="void-label-options" class="mt-4 space-y-3"></div>
                            <p id="void-label-message" class="mt-3 text-sm hidden"></p>
                            <div class="mt-4 flex justify-end gap-3">
                                <button id="cancel-void-label-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                                <button id="submit-void-label-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Void Selected Labels</button>
                            </div>
                        </div>

                        <div id="clear-data-form-container" class="mt-6 p-4 border border-amber-200 bg-amber-50 rounded-lg hidden">
                            <h4 class="text-lg font-semibold text-amber-700 mb-2">Clear Saved Shipping Data</h4>
                            <p class="text-sm text-amber-700">Remove outdated tracking numbers or label records so you can regenerate the correct documents without visiting Firestore.</p>
                            <p id="clear-data-message" class="mt-3 text-sm hidden"></p>
                            <div id="clear-data-options" class="mt-4 space-y-3"></div>
                            <div class="mt-4 flex justify-end gap-3">
                                <button id="cancel-clear-data-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                                <button id="submit-clear-data-btn" type="button" class="bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Clear Selected Data</button>
                            </div>
                        </div>

                        <div id="delete-confirmation-container" class="mt-6 p-4 bg-rose-100 border border-rose-300 rounded-lg hidden">
                            <p class="text-sm font-semibold text-rose-700 mb-3"> Are you sure you want to permanently delete this order? This action cannot be undone.</p>
                            <div class="flex justify-end gap-3">
                                <button id="cancel-delete-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                                <button id="confirm-delete-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Yes, Delete Permanently</button>
                            </div>
                        </div>

                        <button id="send-reminder-btn" class="hidden mt-6 w-full px-4 py-3 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors flex items-center justify-center gap-2">
                            <i class="fas fa-envelope"></i>
                            <span>Send Reminder Email</span>
                        </button>
                        <button id="send-expiring-reminder-btn" class="hidden mt-3 w-full px-4 py-3 bg-rose-500 text-white font-semibold rounded-lg hover:bg-rose-600 transition-colors flex items-center justify-center gap-2">
                            <i class="fas fa-hourglass-half"></i>
                            <span>Send Expiration Reminder</span>
                        </button>
                        <button id="send-kit-reminder-btn" class="hidden mt-3 w-full px-4 py-3 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2">
                            <i class="fas fa-truck"></i>
                            <span>Send Kit Follow-up</span>
                        </button>

                        

                        <div id="modal-activity-log" class="hidden">
                            <h4>Recent Activity</h4>
                            <ul id="modal-activity-log-list"></ul>
                        </div>

                        <div id="modal-action-buttons" class="mt-6"></div>
                        <div id="modal-message" class="mt-4 p-3 text-sm rounded-md hidden"></div>
                    </div>
                </aside>
            </div>
        </section>

        <footer class="admin-footer">
            <div class="admin-footer-copy">
                <strong>SecondHandCell Operations</strong>
                <span> <span id="admin-footer-year"></span> All rights reserved.</span>
            </div>
            <div class="admin-footer-links">
                <a href="mailto:support@secondhandcell.com">Support</a>
                <a href="../terms.html" target="_blank" rel="noopener">Terms</a>
                <a href="../privacy.html" target="_blank" rel="noopener">Privacy</a>
            </div>
            <div class="admin-footer-logos">
                <a id="trustpilot-footer-link" href="#" target="_blank" rel="noopener" aria-label="Read our Trustpilot reviews">
                    <img id="trustpilot-footer-image" class="trustpilot-stars" src="" alt="Trustpilot rating" loading="lazy">
                </a>
            </div>
        </footer>
            </div>
        </main>
    </div>
    <!-- Floating Chat Button -->
    <button class="floating-chat-btn" onclick="window.location.href='chat/index.html'" title="Open Chat Dashboard">
        <i class="fas fa-comments"></i>
        <span class="unread-badge" id="floating-chat-badge" style="display: none;">0</span>
    </button>

    <script type="module" src="/assets/js/pages/admin-index.js"></script>

  <script defer src="/assets/js/cookie-consent.js"></script>
</body>
</html>
