<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Management Dashboard</title>
    <link rel="stylesheet" href="/assets/css/admin-tailwind.css">
    <link rel="icon" href="/favicon/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W3BM2JC8');</script>
<!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17534255111"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
        
            gtag('config', 'AW-17534255111');
            gtag('config', 'G-8JYPJDKSP8');
        </script>
    <!-- PDF-LIB LIBRARY FOR PDF GENERATION AND MERGING -->
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@600;700&family=Inter:wght@400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: #f5f6f8;
            color: #0f172a;
        }

        .admin-shell {
            width: 100%;
            margin: 0;
            padding: 0 0 64px;
        }

        .admin-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 32px;
            background: #ffffff;
            border-radius: 0;
            padding: 24px clamp(1.5rem, 5vw, 3.5rem);
            border-bottom: 1px solid #e2e8f0;
            box-shadow: none;
        }

        .admin-header__left {
            display: flex;
            align-items: center;
            gap: 28px;
        }

        .admin-logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            letter-spacing: 0.02em;
            color: #0f172a;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .admin-logo::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 999px;
            background: linear-gradient(135deg, #2563eb, #0ea5e9);
            box-shadow: 0 0 12px rgba(37, 99, 235, 0.4);
        }

        .admin-nav {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .admin-nav__pill {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #0f172a;
            text-decoration: none;
            background: #f1f5f9;
            border: 1px solid transparent;
            transition: background 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;
        }

        .admin-nav__pill:hover {
            background: #e2e8f0;
        }

        .admin-nav__pill--active {
            background: #0f172a;
            color: #ffffff;
            box-shadow: 0 12px 20px -14px rgba(15, 23, 42, 0.65);
        }

        .admin-header__right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .admin-session {
            display: flex;
            flex-direction: column;
            gap: 8px;
            text-align: right;
        }

        .admin-session__label {
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.18em;
            color: #94a3b8;
            text-transform: uppercase;
        }

        .admin-session__user {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 12px;
        }

        .admin-user-monogram {
            width: 34px;
            height: 34px;
            border-radius: 999px;
            background: #0f172a;
            color: #ffffff;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .admin-user-details {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .admin-user-email {
            font-weight: 600;
            font-size: 0.9rem;
            color: #0f172a;
        }

        .admin-user-id {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .logout-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #0f172a;
            color: #ffffff;
            border: none;
            border-radius: 12px;
            padding: 10px 18px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .logout-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 12px 24px -14px rgba(15, 23, 42, 0.6);
        }

        .admin-hero {
            margin-top: 32px;
            display: flex;
            flex-direction: column;
            gap: 32px;
            padding: 0 clamp(1.5rem, 5vw, 3.5rem);
        }

        .admin-hero__heading {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 24px;
            background: #ffffff;
            border-radius: 16px;
            padding: 32px;
            border: 1px solid #e2e8f0;
            box-shadow: none;
        }

        .admin-hero__title-block {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .admin-hero__badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 18px;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #0f172a;
            background: #e0f2fe;
        }

        .admin-hero__title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(2rem, 4vw, 2.6rem);
            font-weight: 700;
            color: #0f172a;
        }

        .admin-hero__subtitle {
            color: #64748b;
            font-size: 1rem;
            max-width: 520px;
            line-height: 1.6;
        }

        .admin-hero__actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .hero-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 28px;
            border-radius: 999px;
            font-size: 0.95rem;
            font-weight: 600;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        }

        .hero-button--primary {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: #ffffff;
            box-shadow: 0 18px 32px -26px rgba(37, 99, 235, 0.7);
        }

        .hero-button--primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 20px 40px -24px rgba(37, 99, 235, 0.55);
        }

        .hero-button--ghost {
            background: #f8fafc;
            color: #0f172a;
            border: 1px solid #e2e8f0;
        }

        .hero-button--ghost:hover {
            background: #eef2f6;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
        }


        .admin-stat-card {
            background: #ffffff;
            border-radius: 24px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 20px 36px -30px rgba(15, 23, 42, 0.4);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .admin-stat-card span {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.12em;
            color: #94a3b8;
        }

        .admin-stat-card strong {
            font-size: 2.1rem;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            color: #0f172a;
        }

        .admin-stat-card p {
            font-size: 0.9rem;
            color: #64748b;
        }

        .admin-toolbar {
            margin-top: 28px;
            background: #ffffff;
            border-radius: 0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            padding: 20px clamp(1.5rem, 5vw, 3.5rem);
        }

        .admin-toolbar__search {
            flex: 1 1 320px;
            display: flex;
            align-items: center;
            gap: 12px;
            background: #f8fafc;
            border-radius: 16px;
            padding: 12px 18px;
            border: 1px solid #e2e8f0;
        }

        .admin-toolbar__search i {
            color: #94a3b8;
            font-size: 1rem;
        }

        .admin-toolbar__search input {
            border: none;
            background: transparent;
            outline: none;
            flex: 1;
            font-size: 0.95rem;
            color: #0f172a;
        }

        .admin-toolbar__search input::placeholder {
            color: #94a3b8;
        }

        .admin-toolbar__meta {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .toolbar-time {
            display: flex;
            flex-direction: column;
            gap: 4px;
            text-align: right;
        }

        .toolbar-time span {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            color: #94a3b8;
        }

        .time-display {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .admin-login-screen {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: clamp(1.5rem, 4vw, 4rem);
            background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.45), rgba(8, 47, 73, 0.92));
            z-index: 10000;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .admin-login-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .admin-login-container {
            width: min(960px, 100%);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            border-radius: 28px;
            overflow: hidden;
            border: 1px solid rgba(148, 163, 184, 0.22);
            box-shadow: 0 60px 140px -50px rgba(15, 23, 42, 0.8);
            background: rgba(15, 23, 42, 0.92);
        }

        .admin-login-panel {
            padding: clamp(2rem, 4vw, 3.5rem);
        }

        .admin-login-panel--intro {
            background: linear-gradient(160deg, rgba(30, 64, 175, 0.85), rgba(8, 47, 73, 0.92));
            color: #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 1.75rem;
        }

        .admin-login-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.22em;
            background: rgba(148, 163, 184, 0.18);
            color: rgba(226, 232, 240, 0.8);
            padding: 0.5rem 1.25rem;
            border-radius: 999px;
            font-weight: 600;
        }

        .admin-login-headline {
            font-size: clamp(1.9rem, 3vw, 2.6rem);
            line-height: 1.2;
            color: #f8fafc;
        }

        .admin-login-description {
            font-size: 0.95rem;
            color: rgba(226, 232, 240, 0.8);
            line-height: 1.6;
        }

        .admin-login-highlights {
            list-style: none;
            display: grid;
            gap: 0.85rem;
            padding: 0;
            margin: 0;
        }

        .admin-login-highlights li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 500;
            color: rgba(226, 232, 240, 0.9);
        }

        .admin-login-highlights span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.25);
            color: #f8fafc;
            font-size: 0.85rem;
        }

        .admin-login-panel--form {
            background: rgba(248, 250, 252, 0.98);
            color: #0f172a;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .admin-login-title {
            font-size: 1.6rem;
            font-weight: 700;
            color: #0f172a;
        }

        .admin-login-subtitle {
            font-size: 0.95rem;
            color: #475569;
            margin-bottom: 1.5rem;
        }

        .admin-login-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .admin-login-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: #475569;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .admin-login-input {
            width: 100%;
            padding: 0.85rem 1rem;
            border-radius: 0.75rem;
            border: 1px solid rgba(148, 163, 184, 0.45);
            font-size: 0.95rem;
            font-weight: 500;
            background: white;
            color: #0f172a;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .admin-login-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.15);
        }

        .admin-login-submit {
            margin-top: 0.5rem;
            border: none;
            border-radius: 0.75rem;
            padding: 0.95rem 1rem;
            font-size: 1rem;
            font-weight: 600;
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: #f8fafc;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .admin-login-submit:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 16px 28px -18px rgba(37, 99, 235, 0.55);
        }

        .admin-login-submit:disabled,
        .admin-google-btn:disabled {
            cursor: not-allowed;
            opacity: 0.72;
        }

        .admin-google-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            width: 100%;
            border-radius: 0.75rem;
            border: 1px solid rgba(148, 163, 184, 0.45);
            padding: 0.85rem 1rem;
            font-weight: 600;
            background: white;
            color: #1f2937;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .admin-google-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 14px 28px -18px rgba(59, 130, 246, 0.35);
        }

        .admin-google-icon {
            width: 20px;
            height: 20px;
        }

        .admin-login-error {
            margin-top: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            background: rgba(248, 113, 113, 0.12);
            color: #b91c1c;
            font-weight: 600;
        }

        .admin-login-support {
            font-size: 0.85rem;
            color: #475569;
            line-height: 1.5;
        }

        .admin-login-submit.is-loading,
        .admin-google-btn.is-loading {
            position: relative;
        }

        .admin-login-submit.is-loading::after,
        .admin-google-btn.is-loading::after {
            content: '';
            position: absolute;
            right: 1.5rem;
            top: 50%;
            width: 1rem;
            height: 1rem;
            border-radius: 9999px;
            border: 2px solid currentColor;
            border-right-color: transparent;
            transform: translateY(-50%);
            animation: spin 0.75s linear infinite;
        }

        .admin-google-btn.is-loading::after {
            border-color: #2563eb;
            border-right-color: transparent;
        }

        @media (max-width: 768px) {
            .admin-login-container {
                grid-template-columns: 1fr;
            }

            .admin-login-panel--intro {
                gap: 1.25rem;
            }
        }
        
        /* REMOVED SIDEBAR STYLES */
        
        .main-content {
            margin: 0 auto;
            padding: 0;
            color: inherit;
            width: 100%;
        }
        
        .admin-header {
            font-size: 24px;
            font-weight: 700;
            color: white;
            margin-bottom: 4px;
        }
        
        .admin-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 400;
        }
        
        .status-link {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            color: #475569;
            font-size: 14px;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.15s ease;
            cursor: pointer;
            margin-bottom: 2px;
            color: rgba(226, 232, 240, 0.75);
        }
        
        .status-link:hover {
            background: #f8fafc;
            color: #0f172a;
            background: rgba(148, 163, 184, 0.15);
            color: #ffffff;
        }
        
        .status-link.active {
            background: #eff6ff;
            color: #2563eb;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.35), rgba(6, 182, 212, 0.4));
            color: #ffffff;
            box-shadow: 0 12px 30px -20px rgba(59, 130, 246, 0.6);
        }
        
        .status-link i {
            margin-right: 10px;
            width: 18px;
            text-align: center;
        }

        .reoffer-parent {
            color: rgba(226, 232, 240, 0.75);
        }
        .reoffer-parent:hover {
            background: rgba(148, 163, 184, 0.15);
            color: #ffffff;
        }
        
        .dashboard-hero {
            position: sticky;
            top: -24px;
            z-index: 40;
            margin: -64px -40px 40px;
            padding: clamp(2.5rem, 5vw, 4rem);
            border-radius: 36px;
            background: radial-gradient(circle at 88% 12%, rgba(96, 165, 250, 0.48) 0%, rgba(30, 64, 175, 0.35) 35%, rgba(8, 21, 56, 0.92) 80%);
            border: 1px solid rgba(148, 163, 184, 0.18);
            box-shadow: 0 60px 140px -65px rgba(15, 23, 42, 0.9);
            display: grid;
            grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.9fr);
            gap: clamp(2rem, 4vw, 3.5rem);
            overflow: hidden;
        }

        .dashboard-hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(140deg, rgba(15, 23, 42, 0.2) 0%, rgba(15, 23, 42, 0.75) 55%, rgba(15, 23, 42, 0.92) 100%);
            z-index: 0;
        }

        .dashboard-hero__left {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            gap: 1.75rem;
            color: rgba(226, 232, 240, 0.92);
        }

        .dashboard-hero__badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1.5rem;
            border-radius: 999px;
            background: rgba(59, 130, 246, 0.2);
            color: rgba(191, 219, 254, 0.96);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.24em;
            font-weight: 700;
        }

        .dashboard-hero__title {
            font-size: clamp(2.25rem, 4vw, 2.9rem);
            color: #f8fafc;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .dashboard-hero__subtitle {
            max-width: 560px;
            font-size: 1rem;
            line-height: 1.7;
            color: rgba(226, 232, 240, 0.78);
        }

        .dashboard-hero__metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.25rem;
        }

        .dashboard-metric {
            background: linear-gradient(160deg, rgba(15, 23, 42, 0.75), rgba(30, 64, 175, 0.4));
            border-radius: 22px;
            padding: 1.25rem 1.4rem;
            border: 1px solid rgba(96, 165, 250, 0.22);
            box-shadow: 0 32px 60px -45px rgba(37, 99, 235, 0.75);
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }

        .dashboard-metric span {
            font-size: 0.8rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            color: rgba(191, 219, 254, 0.75);
            font-weight: 600;
        }

        .dashboard-metric strong {
            font-size: 1.9rem;
            font-weight: 700;
            color: #f8fafc;
        }

        .dashboard-metric p {
            font-size: 0.85rem;
            color: rgba(191, 219, 254, 0.7);
        }

        .admin-subnav {
            position: relative;
            z-index: 1;
            display: inline-flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 0.5rem;
        }

        .admin-subnav__link {
            padding: 8px 16px;
            border-radius: 9999px;
            background: rgba(15, 23, 42, 0.42);
            border: 1px solid transparent;
            color: rgba(226, 232, 240, 0.82);
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        }

        .admin-subnav__link:hover {
            background: rgba(96, 165, 250, 0.2);
            border-color: rgba(96, 165, 250, 0.35);
            color: #e0f2fe;
            transform: translateY(-1px);
            box-shadow: 0 16px 32px -24px rgba(96, 165, 250, 0.75);
        }

        .admin-subnav__link--active {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(14, 165, 233, 0.45));
            border-color: rgba(191, 219, 254, 0.4);
            color: #f8fafc;
            box-shadow: 0 18px 36px -20px rgba(59, 130, 246, 0.9);
        }

        .dashboard-hero__right {
            position: relative;
            z-index: 1;
            display: flex;
            align-items: stretch;
        }

        .dashboard-hero__card {
            width: 100%;
            background: rgba(248, 250, 252, 0.98);
            border-radius: 28px;
            padding: clamp(1.75rem, 3vw, 2.25rem);
            border: 1px solid rgba(148, 163, 184, 0.18);
            box-shadow: 0 45px 80px -60px rgba(15, 23, 42, 0.55);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .dashboard-search {
            position: relative;
        }

        .dashboard-search input {
            width: 100%;
            padding: 0.85rem 1.1rem 0.85rem 2.75rem;
            border-radius: 18px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            font-size: 0.95rem;
            font-weight: 500;
            color: #0f172a;
            background: rgba(255, 255, 255, 0.95);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .dashboard-search input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 0.75);
            box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.25);
        }

        .dashboard-search i {
            position: absolute;
            left: 1.15rem;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
            font-size: 1rem;
        }

        .dashboard-hero__meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.25rem;
            flex-wrap: wrap;
        }

        .dashboard-hero__insight {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        .dashboard-hero__insight span {
            font-size: 0.75rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: #475569;
            font-weight: 600;
        }

        .dashboard-hero__insight strong {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1d4ed8;
        }

        .dashboard-hero__user {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.25rem;
        }

        .admin-user-chip {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.65rem 1rem;
            border-radius: 9999px;
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow: 0 14px 28px -18px rgba(59, 130, 246, 0.35);
        }

        .admin-user-monogram {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 9999px;
            background: linear-gradient(135deg, #60a5fa, #2563eb);
            color: white;
            font-weight: 700;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .admin-user-label {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: #64748b;
            margin-bottom: 0.15rem;
        }

        .admin-user-email {
            font-weight: 600;
            color: #0f172a;
        }

        .admin-user-id {
            font-size: 0.75rem;
            color: #64748b;
            font-weight: 500;
        }
        
        .insight-strip {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 32px;
        }

        .insight-pill {
            flex: 1 1 180px;
            min-width: 180px;
            background: linear-gradient(135deg, rgba(148, 163, 184, 0.18), rgba(30, 64, 175, 0.28));
            border: 1px solid rgba(148, 163, 184, 0.35);
            color: #f8fafc;
            border-radius: 18px;
            padding: 20px 22px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            box-shadow: 0 25px 60px -30px rgba(15, 23, 42, 0.55);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .insight-pill:hover {
            transform: translateY(-4px);
            box-shadow: 0 35px 80px -35px rgba(15, 23, 42, 0.65);
        }

        .insight-pill .label {
            font-size: 12px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: rgba(226, 232, 240, 0.78);
            font-weight: 600;
        }

        .insight-pill .value {
            font-size: 32px;
            font-weight: 700;
            line-height: 1;
        }

        .insight-pill .subtext {
            font-size: 12px;
            color: rgba(226, 232, 240, 0.7);
        }

        .insight-pill-link {
            text-decoration: none;
            color: inherit;
            position: relative;
            display: inline-flex;
            flex-direction: column;
        }

        .insight-pill-link i {
            font-size: 16px;
            margin-top: auto;
            opacity: 0.75;
            align-self: flex-end;
        }

        .filter-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 0 0 28px;
            align-items: center;
        }

        .filter-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            background: rgba(255, 255, 255, 0.55);
            color: #1f2937;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.02em;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 10px 30px -22px rgba(15, 23, 42, 0.4);
            --dot-color: rgba(59, 130, 246, 0.6);
            --dot-shadow: rgba(59, 130, 246, 0.12);
        }

        .filter-chip .dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: var(--dot-color);
            box-shadow: 0 0 0 4px var(--dot-shadow);
        }

        .filter-chip.active {
            border-color: rgba(59, 130, 246, 0.65);
            background: linear-gradient(120deg, rgba(59, 130, 246, 0.18), rgba(56, 189, 248, 0.22));
            color: #0f172a;
            box-shadow: 0 12px 32px -20px rgba(37, 99, 235, 0.75);
        }

        .filter-chip:hover {
            transform: translateY(-1px);
            border-color: rgba(59, 130, 246, 0.55);
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
            padding: 0 clamp(1.5rem, 5vw, 3.5rem);
        }

        .analytics-card {
            background: #ffffff;
            border-radius: 16px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            box-shadow: none;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-height: 0;
        }

        .site-analytics-section {
            margin-bottom: 36px;
            padding: 26px 28px;
            border-radius: 24px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.82), rgba(30, 64, 175, 0.38));
            border: 1px solid rgba(148, 163, 184, 0.28);
            box-shadow: 0 35px 80px -60px rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
        }

        .site-analytics-header {
            display: flex;
            flex-wrap: wrap;
            align-items: flex-start;
            justify-content: space-between;
            gap: 18px;
            margin-bottom: 22px;
        }

        .site-analytics-header h2 {
            font-size: 22px;
            font-weight: 700;
            color: #f8fafc;
            margin-bottom: 4px;
        }

        .site-analytics-header p {
            color: rgba(226, 232, 240, 0.78);
            font-size: 13px;
            max-width: 520px;
        }

        .site-analytics-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
        }

        .site-analytics-controls select,
        .site-analytics-controls input {
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(148, 163, 184, 0.4);
            border-radius: 10px;
            color: #f8fafc;
            font-size: 13px;
            padding: 10px 12px;
            min-width: 120px;
        }

        .site-analytics-controls select:focus,
        .site-analytics-controls input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 0.85);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25);
        }

        .analytics-refresh-button {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background: linear-gradient(120deg, rgba(59, 130, 246, 0.85), rgba(45, 212, 191, 0.85));
            color: #0f172a;
            font-weight: 600;
            box-shadow: 0 18px 40px -28px rgba(59, 130, 246, 0.85);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .analytics-refresh-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 24px 50px -28px rgba(59, 130, 246, 0.9);
        }

        .analytics-refresh-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .analytics-refresh-button.is-loading i {
            animation: analytics-spin 0.8s linear infinite;
        }

        .site-analytics-controls label.analytics-autorefresh-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: rgba(226, 232, 240, 0.85);
            cursor: pointer;
        }

        .site-analytics-controls label.analytics-autorefresh-toggle input {
            accent-color: #38bdf8;
        }

        .analytics-status {
            font-size: 12px;
            color: rgba(226, 232, 240, 0.75);
        }

        .analytics-status.analytics-status--error {
            color: #fca5a5;
        }

        .analytics-status.analytics-status--loading {
            color: #fde68a;
        }

        .analytics-kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 18px;
            margin-bottom: 24px;
        }

        .analytics-kpi-card {
            background: rgba(15, 23, 42, 0.55);
            border: 1px solid rgba(148, 163, 184, 0.32);
            border-radius: 18px;
            padding: 18px 20px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            color: #f8fafc;
            box-shadow: 0 24px 60px -48px rgba(8, 47, 73, 0.65);
        }

        .analytics-kpi-card .label {
            font-size: 11px;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: rgba(148, 163, 184, 0.8);
        }

        .analytics-kpi-card .value {
            font-size: 30px;
            font-weight: 700;
        }

        .analytics-kpi-card .subtext {
            font-size: 12px;
            color: rgba(148, 163, 184, 0.75);
        }

        .analytics-main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .analytics-top-table-wrapper {
            overflow-x: auto;
        }

        .analytics-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .analytics-table thead th {
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.08em;
            color: #475569;
            padding: 10px 12px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
        }

        .analytics-table tbody td {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.18);
            color: #0f172a;
        }

        .analytics-table tbody tr:last-child td {
            border-bottom: none;
        }

        .analytics-table .progress-bar {
            position: relative;
            height: 6px;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.2);
            overflow: hidden;
        }

        .analytics-table .progress-bar span {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.75), rgba(14, 165, 233, 0.75));
            border-radius: inherit;
        }

        .analytics-share-label {
            font-size: 12px;
            color: #475569;
            font-weight: 600;
            margin-top: 6px;
        }

        .analytics-live-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .analytics-live-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 14px;
            padding: 10px 12px;
            background: rgba(148, 163, 184, 0.12);
            color: #0f172a;
        }

        .analytics-live-item span {
            font-size: 13px;
            color: #475569;
        }

        .analytics-live-item strong {
            font-size: 15px;
            color: #0f172a;
        }

        .analytics-empty-state {
            font-size: 13px;
            color: #64748b;
        }

        @keyframes analytics-spin {
            to {
                transform: rotate(360deg);
            }
        }

        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 168px;
            max-height: 180px;
        }

        .chart-wrapper--trend {
            padding: 0 0 8px;
        }

        .chart-wrapper--bar {
            padding: 0 0 8px;
            height: 220px;
        }

        .chart-wrapper--pie {
            width: min(220px, 100%);
            height: 190px;
            margin: 0 auto 0;
        }

        .chart-wrapper canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .analytics-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 16px;
        }

        .analytics-card-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 2px;
        }

        .analytics-card-header p {
            font-size: 13px;
            color: #475569;
        }

        .analytics-card-metric {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4px;
            min-width: 120px;
        }

        .analytics-card-metric .metric-value {
            font-size: 28px;
            font-weight: 700;
            color: #0f172a;
        }

        .analytics-card-metric .metric-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .analytics-conversion-recent {
            margin-top: 18px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .analytics-conversion-item {
            border: 1px solid rgba(148, 163, 184, 0.28);
            border-radius: 12px;
            padding: 12px 14px;
            background: rgba(248, 250, 252, 0.7);
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .analytics-conversion-item h4 {
            margin: 0;
            font-size: 14px;
            font-weight: 600;
            color: #0f172a;
        }

        .analytics-conversion-item time {
            font-size: 12px;
            color: #64748b;
        }

        .analytics-conversion-item span {
            font-size: 13px;
            color: #0f172a;
            word-break: break-word;
        }

        .operations-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .brand-trust-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 32px;
            padding: 20px;
            border-radius: 18px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.78), rgba(30, 64, 175, 0.35));
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow: 0 35px 90px -60px rgba(15, 23, 42, 0.85);
        }

        .brand-card {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 12px;
            padding: 18px 22px;
            border-radius: 16px;
            background: rgba(15, 23, 42, 0.55);
            border: 1px solid rgba(148, 163, 184, 0.25);
            color: rgba(226, 232, 240, 0.92);
        }

        .brand-card h3 {
            font-size: 16px;
            font-weight: 700;
            letter-spacing: 0.01em;
            color: #e2e8f0;
        }

        .brand-card p {
            font-size: 14px;
            line-height: 1.5;
            color: rgba(203, 213, 225, 0.85);
        }

        .brand-logo-strip {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .brand-logo-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 14px;
            border-radius: 12px;
            background: rgba(226, 232, 240, 0.08);
            border: 1px solid rgba(148, 163, 184, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .brand-logo-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 18px 30px -20px rgba(148, 163, 184, 0.55);
            background: rgba(226, 232, 240, 0.12);
        }

        .brand-logo-link img {
            display: block;
            height: auto;
        }

        .trustpilot-stars {
            max-width: 140px;
            height: auto;
        }

        .admin-footer {
            margin-top: 48px;
            padding: 24px 28px;
            border-radius: 20px;
            background: rgba(15, 23, 42, 0.72);
            border: 1px solid rgba(148, 163, 184, 0.2);
            color: rgba(226, 232, 240, 0.78);
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
        }

        .admin-footer-links {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            font-size: 13px;
        }

        .admin-footer-links a {
            color: #38bdf8;
            text-decoration: none;
            font-weight: 500;
        }

        .admin-footer-links a:hover {
            text-decoration: underline;
        }

        .admin-footer-logos {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .admin-footer-copy {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            color: rgba(226, 232, 240, 0.75);
        }

        .admin-footer-copy strong {
            font-size: 15px;
            letter-spacing: 0.01em;
            color: #f8fafc;
        }

        .admin-footer-copy span {
            color: rgba(226, 232, 240, 0.68);
        }

        .operations-card {
            background: rgba(248, 250, 252, 0.88);
            border-radius: 18px;
            border: 1px solid rgba(148, 163, 184, 0.28);
            box-shadow: 0 22px 60px -42px rgba(15, 23, 42, 0.5);
            padding: 20px 22px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            backdrop-filter: blur(14px);
        }

        .operations-card-header h3 {
            font-size: 17px;
            font-weight: 700;
            color: #0f172a;
        }

        .operations-card-header p {
            font-size: 13px;
            color: #475569;
            margin-top: 4px;
        }

        .operations-card-list {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .operations-card-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            padding: 12px 14px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(148, 163, 184, 0.24);
        }

        .operations-card-list li.empty {
            justify-content: center;
            color: #64748b;
            font-weight: 600;
        }

        .watchlist-meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .watchlist-order-id {
            font-weight: 700;
            font-size: 14px;
            color: #1e293b;
        }

        .watchlist-status {
            font-size: 12px;
            font-weight: 600;
            color: #2563eb;
        }

        .watchlist-age {
            font-size: 12px;
            color: #475569;
        }

        .watchlist-view-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 999px;
            border: 1px solid rgba(59, 130, 246, 0.4);
            color: #1d4ed8;
            background: rgba(59, 130, 246, 0.12);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .watchlist-view-btn:hover {
            background: rgba(59, 130, 246, 0.18);
            border-color: rgba(59, 130, 246, 0.55);
            color: #1e40af;
        }

        .quick-links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .quick-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 14px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.24);
            font-weight: 600;
            font-size: 13px;
            color: #0f172a;
            text-decoration: none;
            transition: transform 0.18s ease, box-shadow 0.18s ease;
        }

        .quick-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px -20px rgba(15, 23, 42, 0.45);
            color: #1d4ed8;
        }

        .quick-link i {
            color: #2563eb;
            font-size: 15px;
        }

        .mobile-quick-actions {
            display: none;
            margin: 0 0 24px;
            padding: 18px;
            border-radius: 18px;
            background: rgba(15, 23, 42, 0.85);
            border: 1px solid rgba(148, 163, 184, 0.3);
            box-shadow: 0 24px 60px -36px rgba(15, 23, 42, 0.6);
            flex-direction: column;
            gap: 16px;
        }

        .mobile-search {
            position: relative;
        }

        .mobile-search input {
            width: 100%;
            padding: 12px 12px 12px 40px;
            border-radius: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.92);
            font-size: 14px;
            color: #0f172a;
        }

        .mobile-search i {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .mobile-stat-row {
            display: flex;
            gap: 12px;
        }

        .mobile-stat {
            flex: 1;
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(148, 163, 184, 0.28);
            border-radius: 14px;
            padding: 12px 14px;
            color: rgba(248, 250, 252, 0.9);
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .mobile-stat span {
            font-size: 12px;
            letter-spacing: 0.02em;
            text-transform: uppercase;
            color: rgba(226, 232, 240, 0.72);
        }

        .mobile-stat strong {
            font-size: 18px;
        }

        .trend-delta {
            font-size: 14px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.12);
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: #1e293b;
        }

        .trend-delta.trend-up {
            background: rgba(34, 197, 94, 0.12);
            border-color: rgba(34, 197, 94, 0.35);
            color: #15803d;
        }

        .trend-delta.trend-down {
            background: rgba(248, 113, 113, 0.12);
            border-color: rgba(248, 113, 113, 0.4);
            color: #b91c1c;
        }

        .trend-delta.trend-neutral {
            background: rgba(148, 163, 184, 0.12);
            border-color: rgba(148, 163, 184, 0.4);
            color: #1e293b;
        }

        .status-breakdown-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 8px 0 0;
            padding: 0;
            list-style: none;
        }

        .status-breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 14px;
            border-radius: 14px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
        }

        .status-breakdown-item:hover {
            background: rgba(59, 130, 246, 0.08);
            transform: translateY(-1px);
        }

        .status-breakdown-item.active {
            border-color: rgba(59, 130, 246, 0.45);
            background: rgba(59, 130, 246, 0.12);
        }

        .status-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-label {
            font-size: 13px;
            font-weight: 600;
            color: #1f2937;
        }

        .status-count {
            font-size: 14px;
            font-weight: 700;
            color: #0f172a;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 999px;
            box-shadow: 0 0 0 4px rgba(148, 163, 184, 0.18);
        }

        .status-dot-all { background: #38bdf8; }
        .status-dot-pending { background: #6366f1; }
        .status-dot-printing { background: #8b5cf6; }
        .status-dot-kit-sent { background: #f97316; }
        .status-dot-kit-delivered { background: #10b981; }
        .status-dot-delivered-to-us { background: #0d9488; }
        .status-dot-label { background: #f59e0b; }
        .status-dot-emailed { background: #38bdf8; }
        .status-dot-received { background: #0ea5e9; }
        .status-dot-completed { background: #22c55e; }
        .status-dot-reoffer-pending { background: #facc15; }
        .status-dot-reoffer-accepted { background: #14b8a6; }
        .status-dot-reoffer-declined { background: #ef4444; }
        .status-dot-return { background: #64748b; }

        @media (max-width: 768px) {
            .insight-strip {
                flex-direction: column;
            }
            .insight-pill {
                width: 100%;
            }
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }
        .accent-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 8px;
        }
        
        .orders-table-container {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.78);
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow: 0 25px 50px -30px rgba(15, 23, 42, 0.45);
            backdrop-filter: blur(18px);
            position: relative;
        }

        .orders-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            padding: 20px 24px 12px;
        }
        .orders-toolbar-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .bulk-status-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 12px;
            border-radius: 12px;
            background: rgba(241, 245, 249, 0.7);
            border: 1px solid rgba(148, 163, 184, 0.25);
            flex-wrap: wrap;
        }

        .bulk-status-select {
            min-width: 200px;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            background: white;
            font-size: 13px;
            color: #0f172a;
        }

        .bulk-status-apply {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 10px;
            border: 1px solid rgba(34, 197, 94, 0.35);
            background: linear-gradient(120deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.18));
            color: #047857;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .bulk-status-apply:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .bulk-status-note {
            font-size: 12px;
            color: #475569;
            font-weight: 500;
        }

        .bulk-selection-count {
            font-size: 12px;
            color: #1e293b;
            font-weight: 600;
        }

        .view-controls {
            display: flex;
            align-items: center;
            gap: 14px;
            flex-wrap: wrap;
        }

        .density-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            background: rgba(248, 250, 252, 0.85);
            color: #1f2937;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .density-toggle input {
            accent-color: #2563eb;
        }

        .density-toggle:hover {
            border-color: rgba(59, 130, 246, 0.45);
            box-shadow: 0 8px 20px -16px rgba(37, 99, 235, 0.6);
        }

        .orders-table-header {
            font-size: 18px;
            font-weight: 600;
            color: #0f172a;
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(14, 165, 233, 0.85));
            color: #f8fafc;
            border-bottom: 1px solid rgba(148, 163, 184, 0.25);
        }

        .orders-table-wrapper {
            overflow-x: auto;
            border-top: 1px solid rgba(148, 163, 184, 0.18);
        }

        table.orders-table {
            width: 100%;
            min-width: 960px;
            border-collapse: separate;
            border-spacing: 0;
        }

        .orders-table thead th {
            text-align: left;
            font-size: 11px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: #475569;
            padding: 14px 18px;
            background: rgba(241, 245, 249, 0.7);
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
        }

        .orders-table thead th.select-column,
        .orders-table tbody td.select-column {
            width: 44px;
            text-align: center;
        }

        .orders-table tbody td.select-column {
            padding: 16px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .order-select-checkbox {
            width: 18px;
            height: 18px;
            accent-color: #2563eb;
            cursor: pointer;
        }

        .orders-table tbody td {
            padding: 16px 18px;
            font-size: 14px;
            color: #0f172a;
            border-bottom: 1px solid rgba(148, 163, 184, 0.14);
        }

        .orders-table tbody tr:last-child td {
            border-bottom: none;
        }

        .orders-table tbody tr:hover {
            background: rgba(59, 130, 246, 0.08);
        }

        .pagination-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            border-top: 1px solid rgba(148, 163, 184, 0.2);
            background: rgba(248, 250, 252, 0.8);
        }

        .pagination-controls.hidden {
            display: none;
        }

        .pagination-actions {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .pagination-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.35);
            background: white;
            color: #1d4ed8;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-button:not(:disabled):hover {
            box-shadow: 0 12px 24px -18px rgba(37, 99, 235, 0.5);
            transform: translateY(-1px);
        }

        .pagination-pages {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pagination-page-button {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid rgba(148, 163, 184, 0.45);
            background: white;
            color: #1e293b;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pagination-page-button:hover:not(:disabled) {
            background: #2563eb;
            color: #ffffff;
            border-color: #2563eb;
        }

        .pagination-page-button.active {
            background: #2563eb;
            color: #ffffff;
            border-color: #2563eb;
            cursor: default;
        }

        .pagination-page-button:disabled {
            opacity: 0.6;
            cursor: default;
        }

        .pagination-ellipsis {
            font-size: 13px;
            font-weight: 600;
            color: #94a3b8;
        }

        .pagination-info {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
        }

        #no-orders-message {
            padding: 24px;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
        }

        #no-orders-message.hidden {
            display: none;
        }

        @media (max-width: 1024px) {
            table.orders-table {
                min-width: 720px;
            }

            .brand-trust-section {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                padding: 18px;
            }

            .admin-footer {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        .user-id-badge {
            display: none; /* Hide since sidebar is gone */
        }
        
        .floating-chat-btn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366F1 0%, #3b82f6 100%);
            color: white;
            border: none;
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .floating-chat-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(99, 102, 241, 0.5);
        }
        
        .floating-chat-btn .unread-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ef4444;
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 12px;
            min-width: 24px;
            text-align: center;
        }
        
        .notification-bell {
            position: relative;
            cursor: pointer;
            font-size: 20px;
            transition: color 0.2s ease;
            color: #1d4ed8;
        }

        .notification-bell:hover {
            color: #2563eb;
        }
        
        .notification-bell .badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }
        
        .chat-dashboard-btn {
            display: none; /* Removed as requested */
        }
        
        .orders-toolbar-note {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
        }

        #orders-table-body {
            background: transparent;
        }
        #orders-table-body tr {
            background: rgba(255, 255, 255, 0.78);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        #orders-table-body tr:nth-child(even) {
            background: rgba(226, 232, 240, 0.55);
        }
        #orders-table-body tr:hover {
            transform: translateY(-2px);
            box-shadow: 0 18px 35px -28px rgba(15, 23, 42, 0.45);
        }

        #orders-table-body.density-compact td {
            padding-top: 10px !important;
            padding-bottom: 10px !important;
            font-size: 13px;
        }

        #orders-table-body.density-compact .status-bubble {
            transform: scale(0.96);
        }
        
        @media (max-width: 768px) {
            body {
                padding: 0 12px 40px;
            }
            .main-content {
                margin: 16px auto;
                padding: 18px 16px;
            }
            .main-content::before {
                border-radius: 20px;
            }
            .dashboard-hero {
                display: none;
            }
            .mobile-quick-actions {
                display: flex;
            }
            .filter-bar {
                gap: 8px;
                flex-wrap: wrap;
            }
            .filter-chip {
                flex: 1 1 calc(50% - 8px);
                justify-content: center;
            }
            .insight-strip {
                flex-direction: column;
            }
            .insight-pill {
                width: 100%;
            }
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            .brand-trust-section {
                margin-top: 24px;
                padding: 16px;
            }
            .brand-card {
                padding: 16px 18px;
            }
            .operations-highlights {
                grid-template-columns: 1fr;
            }
            .orders-toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            .view-controls {
                width: 100%;
                justify-content: space-between;
            }
            .floating-chat-btn {
                width: 56px;
                height: 56px;
                bottom: 16px;
                right: 16px;
                font-size: 20px;
            }
            .admin-footer {
                padding: 20px;
                gap: 12px;
            }
        }
        
        .submenu-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .submenu-container.open {
            max-height: 200px;
        }
        
        .status-bubble {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-bubble-text {
            display: block;
        }
        
        .status-bubble-subtext {
            display: block;
            font-size: 11px;
            margin-top: 2px;
            opacity: 0.8;
        }
        
        .notification-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 380px;
            max-height: 500px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            border: 1px solid #e2e8f0;
            z-index: 1000;
            display: none;
            overflow: hidden;
        }
        
        .notification-dropdown.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .notification-dropdown-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
        }
        
        .notification-dropdown-header h4 {
            font-size: 16px;
            font-weight: 700;
            color: #0f172a;
        }
        
        .notification-item {
            padding: 16px 20px;
            border-bottom: 1px solid #f1f5f9;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .notification-item:hover {
            background-color: #f8fafc;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-empty {
            padding: 24px 16px;
            text-align: center;
            color: #94a3b8;
            font-size: 14px;
        }

        .notification-empty p {
            margin: 0;
        }

        .notification-layout {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            align-items: flex-start;
        }

        .notification-copy {
            flex: 1;
        }

        .notification-name {
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 4px;
        }

        .notification-device {
            font-size: 13px;
            color: #64748b;
            margin-bottom: 4px;
        }

        .notification-status {
            font-size: 12px;
            font-weight: 600;
            margin: 0;
        }

        .notification-meta {
            text-align: right;
        }

        .notification-meta p {
            font-size: 12px;
            color: #94a3b8;
            margin: 0;
        }
        
        .notification-dropdown-footer {
            padding: 12px 20px;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
            text-align: center;
        }
        
        .notification-dropdown-footer a {
            color: #3b82f6;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .notification-dropdown-footer a:hover {
            color: #2563eb;
        }
        
        #order-details-modal {
            animation: fadeIn 0.3s ease;
        }
        
        #order-details-modal > div {
            animation: modalSlideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        #order-details-modal > div {
            border-radius: 20px;
            box-shadow: 0 35px 90px -45px rgba(15, 23, 42, 0.75);
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.96), rgba(226, 232, 240, 0.9));
            padding: 32px;
            width: min(960px, 100%);
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(148, 163, 184, 0.25);
        }

        #order-details-modal h3 {
            color: #0f172a;
            font-size: 24px;
            font-weight: 700;
        }

        #order-details-modal .space-y-3 p {
            color: #1e293b;
        }

        #order-details-modal .space-y-3 strong {
            color: #0f172a;
        }

        #modal-action-buttons {
            margin-top: 28px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        #modal-action-buttons > * {
            width: 100%;
        }

        #modal-action-buttons button {
            justify-content: center;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-align: center;
            min-height: 44px;
            box-shadow: 0 18px 36px -28px rgba(15, 23, 42, 0.45);
        }

        #modal-loading-message {
            margin-top: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #2563eb;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }

        #modal-loading-message.hidden {
            display: none;
        }

        #modal-message {
            border-radius: 12px;
        }

        #modal-activity-log {
            margin-top: 32px;
            border-top: 1px solid rgba(148, 163, 184, 0.3);
            padding-top: 20px;
        }

        #modal-activity-log.hidden {
            display: none;
        }

        #modal-activity-log h4 {
            font-size: 16px;
            font-weight: 600;
            color: #0f172a;
        }

        #modal-activity-log-list {
            margin-top: 14px;
            display: grid;
            gap: 12px;
        }

        #modal-activity-log-list li {
            list-style: none;
            padding: 12px 16px;
            border-radius: 12px;
            background: rgba(241, 245, 249, 0.85);
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            color: #0f172a;
        }

        #modal-activity-log-list li span {
            color: #475569;
        }
        
        .loading-screen {
            position: fixed;
            inset: 0;
            background: #F5F6F8;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .loading-screen.hidden {
            display: none;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #e2e8f0;
            border-top-color: #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body data-admin-page="orders">
    <div id="auth-loading-screen" class="loading-screen">
        <div style="text-align: center;">
            <div class="loading-spinner" style="margin: 0 auto;"></div>
            <p style="margin-top: 20px; color: #64748b; font-weight: 600;">Checking authentication...</p>
        </div>
    </div>

    <section id="admin-login-screen" class="admin-login-screen hidden" aria-hidden="true">
        <div class="admin-login-container">
            <div class="admin-login-panel admin-login-panel--intro">
                <span class="admin-login-badge">Welcome back</span>
                <h1 class="admin-login-headline">Manage SecondHandCell operations with confidence</h1>
                <p class="admin-login-description">Securely access administrative tools, track your customer orders, and respond to new opportunities the moment they arrive.</p>
                <ul class="admin-login-highlights">
                    <li><span></span>Real-time dashboards for live orders and payouts</li>
                    <li><span></span>Security by design with encrypted audit trails</li>
                    <li><span></span>Dedicated support for escalations and approvals</li>
                </ul>
            </div>
            <div class="admin-login-panel admin-login-panel--form">
                <form id="admin-login-form" class="admin-login-form" novalidate>
                    <h2 class="admin-login-title">Administrator access</h2>
                    <p class="admin-login-subtitle">Log in with your SecondHandCell credentials to continue.</p>
                    <label class="admin-login-label" for="admin-login-email">Work email</label>
                    <input type="email" id="admin-login-email" class="admin-login-input" name="email" autocomplete="email" required placeholder="you@secondhandcell.com">
                    <label class="admin-login-label" for="admin-login-password">Password</label>
                    <input type="password" id="admin-login-password" class="admin-login-input" name="password" autocomplete="current-password" required placeholder="Enter your password">
                    <button type="submit" id="admin-login-submit" class="admin-login-submit">Sign in</button>
                </form>
                <button type="button" id="admin-google-signin" class="admin-google-btn">
                    <svg class="admin-google-icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#EA4335" d="M12 10.2v3.9h5.5c-.24 1.4-.99 2.58-2.1 3.37l3.4 2.64c1.98-1.83 3.12-4.52 3.12-7.72 0-.74-.07-1.45-.2-2.14H12z"/><path fill="#34A853" d="M6.6 14.32l-.87.67-2.72 2.12C4.71 19.91 8.09 22 12 22c2.7 0 4.96-.89 6.61-2.41l-3.4-2.64c-.94.63-2.15 1-3.21 1-2.47 0-4.58-1.66-5.33-3.92z"/><path fill="#4A90E2" d="M3.01 7.9A9.96 9.96 0 0 0 2 12c0 1.52.36 2.95 1.01 4.1 0 .01 3.6-2.81 3.6-2.81A5.96 5.96 0 0 1 6 12c0-.63.11-1.24.31-1.81z"/><path fill="#FBBC05" d="M12 6.04c1.47 0 2.79.51 3.83 1.5l2.86-2.86C16.95 2.83 14.7 2 12 2 8.09 2 4.71 4.09 2.99 7.9l3.32 2.29C7.42 7.7 9.53 6.04 12 6.04z"/><path fill="none" d="M2 2h20v20H2z"/></svg>
                    <span id="admin-google-signin-text">Continue with Google</span>
                </button>
                <p id="admin-login-error" class="admin-login-error hidden" role="alert"></p>
                <p class="admin-login-support">Having trouble signing in? Contact the SecondHandCell admin support team.</p>
            </div>
        </div>
    </section>

    <!-- REMOVED ASIDE.SIDEBAR -->

    <main id="admin-app" class="main-content hidden">
        <div class="admin-shell">
            <header class="admin-header">
                <div class="admin-header__left">
                    <span class="admin-logo">SecondHandCell Admin</span>
                    <nav class="admin-nav" aria-label="Admin navigation">
                        <a class="admin-nav__pill" href="/admin/index.html">Dashboard</a>
                        <a class="admin-nav__pill admin-nav__pill--active" href="/admin/orders/index.html">Orders</a>
                        <a class="admin-nav__pill" href="/admin/analytics/index.html">Analytics</a>
                        <a class="admin-nav__pill" href="/admin/print-queue/index.html">Bulk Print</a>
                        <a class="admin-nav__pill" href="/admin/users/index.html">Users</a>
                    </nav>
                </div>
                <div class="admin-header__right">
                    <div class="admin-session">
                        <span class="admin-session__label">Logged in as</span>
                        <div class="admin-session__user">
                            <span class="admin-user-monogram" id="admin-user-monogram">SC</span>
                            <div class="admin-user-details">
                                <span class="admin-user-email" id="admin-user-email">Operations Team</span>
                                <span class="admin-user-id" id="display-user-id"></span>
                            </div>
                        </div>
                    </div>
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                        <span>Logout</span>
                    </button>
                </div>
            </header>

            <section class="admin-hero">
                <div class="admin-hero__heading">
                    <div class="admin-hero__title-block">
                        <span class="admin-hero__badge">Order Control</span>
                        <h1 class="admin-hero__title">SecondHandCell Orders Command Center</h1>
                        <p class="admin-hero__subtitle">Work every shipment, status update, and payout from a streamlined queue tailored for SecondHandCell operations.</p>
                    </div>
                    <div class="admin-hero__actions">
                        <a class="hero-button hero-button--primary" href="#status-filter-bar">Jump to queue</a>
                        <a class="hero-button hero-button--ghost" href="/admin/index.html">View analytics</a>
                    </div>
                </div>

                <div class="admin-stats">
                    <div class="admin-stat-card">
                        <span>Total Orders</span>
                        <strong id="live-orders-count">0</strong>
                        <p>Orders captured across every channel.</p>
                    </div>
                    <div class="admin-stat-card">
                        <span>New Today</span>
                        <strong id="orders-today-count">0</strong>
                        <p>Devices received: <span id="received-devices-count">0</span></p>
                    </div>
                    <div class="admin-stat-card">
                        <span>Paid Out</span>
                        <strong id="total-payout-amount">$0.00</strong>
                        <p>Average payout <span id="average-payout-amount">$0.00</span></p>
                    </div>
                    <div class="admin-stat-card">
                        <span>Conversion Rate</span>
                        <strong id="conversion-rate">0.0%</strong>
                        <p>Quotes converted across active desks.</p>
                    </div>
                </div>
            </section>

            <div class="admin-toolbar">
                <div class="admin-toolbar__search">
                    <i class="fas fa-search" aria-hidden="true"></i>
                    <label class="sr-only" for="search-orders">Search orders</label>
                    <input type="text" id="search-orders" placeholder="Search orders, customers, tracking...">
                </div>
                <div class="admin-toolbar__meta">
                    <div class="toolbar-time">
                        <span>Current Time</span>
                        <strong class="time-display" id="current-time-date"></strong>
                    </div>
                    <div class="notification-bell" id="notification-bell-container">
                        <i class="fas fa-bell" aria-hidden="true"></i>
                        <span class="badge" id="notification-badge" style="display: none;">0</span>
                        <div id="notification-dropdown" class="notification-dropdown">
                            <div class="notification-dropdown-header">
                                <h4>Recent Notifications</h4>
                            </div>
                            <div id="notification-list" style="max-height: 360px; overflow-y: auto;">
                                <div class="notification-item" style="text-align: center; color: #94a3b8;">
                                    <p>No new notifications</p>
                                </div>
                            </div>
                            <div class="notification-dropdown-footer">
                                <a href="#" onclick="document.querySelectorAll('.status-link')[0].click(); document.getElementById('notification-dropdown').classList.remove('show'); return false;">View All Orders</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        <div class="mobile-quick-actions">
            <div class="mobile-search">
                <i class="fas fa-search"></i>
                <input type="text" id="mobile-search-orders" placeholder="Search orders, customers, tracking...">
            </div>
            <div class="mobile-stat-row">
                <div class="mobile-stat">
                    <span>Live Orders</span>
                    <strong id="mobile-live-orders-count">0</strong>
                </div>
                <div class="mobile-stat">
                    <span>Avg. Payout</span>
                    <strong id="mobile-average-payout-amount">$0.00</strong>
                </div>
            </div>
        </div>

        <div class="filter-bar" id="status-filter-bar">
            <button class="filter-chip active" data-status-filter="all" style="--dot-color: #38bdf8; --dot-shadow: rgba(56, 189, 248, 0.22)">
                <span class="dot"></span>
                All orders
            </button>
            <button class="filter-chip" data-status-filter="order_pending" style="--dot-color: #22c55e; --dot-shadow: rgba(34, 197, 94, 0.22)">
                <span class="dot"></span>
                New quotes
            </button>
            <button class="filter-chip" data-status-filter="kit_needs_printing" style="--dot-color: #a855f7; --dot-shadow: rgba(168, 85, 247, 0.22)">
                <span class="dot"></span>
                Needs printing
            </button>
            <button class="filter-chip" data-status-filter="kit_sent" style="--dot-color: #f97316; --dot-shadow: rgba(249, 115, 22, 0.22)">
                <span class="dot"></span>
                Kits in transit
            </button>
            <button class="filter-chip" data-status-filter="kit_delivered" style="--dot-color: #10b981; --dot-shadow: rgba(16, 185, 129, 0.22)">
                <span class="dot"></span>
                Kits delivered
            </button>
            <button class="filter-chip" data-status-filter="received" style="--dot-color: #0ea5e9; --dot-shadow: rgba(14, 165, 233, 0.22)">
                <span class="dot"></span>
                Received & processing
            </button>
            <button class="filter-chip" data-status-filter="completed" style="--dot-color: #6366f1; --dot-shadow: rgba(99, 102, 241, 0.22)">
                <span class="dot"></span>
                Paid out
            </button>
            <button class="filter-chip" data-status-filter="re-offered-pending" style="--dot-color: #facc15; --dot-shadow: rgba(250, 204, 21, 0.22)">
                <span class="dot"></span>
                Reoffer pending
            </button>
            <button class="filter-chip" data-status-filter="return-label-generated" style="--dot-color: #ef4444; --dot-shadow: rgba(239, 68, 68, 0.22)">
                <span class="dot"></span>
                Return label sent
            </button>
        </div>

        <div class="insight-strip">
            <div class="insight-pill">
                <span class="label">Orders Today</span>
                <span class="value" id="orders-today-count">0</span>
                <span class="subtext">New submissions</span>
            </div>
            <div class="insight-pill">
                <span class="label">Total Completed Payout</span>
                <span class="value" id="total-payout-amount">$0.00</span>
                <span class="subtext">Across closed orders</span>
            </div>
            <div class="insight-pill">
                <span class="label">Completion Rate</span>
                <span class="value" id="conversion-rate">0.0%</span>
                <span class="subtext">Quotes to payouts</span>
            </div>
            <div class="insight-pill">
                <span class="label">Devices Received</span>
                <span class="value" id="received-devices-count">0</span>
                <span class="subtext">Awaiting inspection</span>
            </div>
            <a class="insight-pill insight-pill-link" href="chat/index.html">
                <span class="label">Active Chats</span>
                <span class="value" id="active-chats-count">0</span>
                <span class="subtext">Support queue</span>
                <i class="fas fa-arrow-up-right-from-square"></i>
            </a>
        </div>

        

        <div class="analytics-grid">
            <div class="analytics-card">
                <div class="analytics-card-header">
                    <div>
                        <h3>Order Volume</h3>
                        <p>Last 14 days of new requests</p>
                    </div>
                    <span id="orders-trend-delta" class="trend-delta trend-neutral">0%</span>
                </div>
                <div class="chart-wrapper chart-wrapper--trend">
                    <canvas id="orders-trend-chart" height="100"></canvas>
                </div>
            </div>
            <div class="analytics-card">
                <div class="analytics-card-header">
                    <div>
                        <h3>Status Breakdown</h3>
                        <p>Tap a status to filter the table</p>
                    </div>
                </div>
                <div class="chart-wrapper chart-wrapper--pie">
                    <canvas id="orders-status-chart" height="100"></canvas>
                </div>
                <ul id="status-breakdown-list" class="status-breakdown-list">
                    <li class="status-breakdown-item active" data-status="all" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-all"></span>
                            <span class="status-label">All Orders</span>
                        </div>
                        <span class="status-count" id="status-count-all">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="order_pending" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-pending"></span>
                            <span class="status-label">Order Pending</span>
                        </div>
                        <span class="status-count" id="order-pending-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_needs_printing" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-printing"></span>
                            <span class="status-label">Needs Printing</span>
                        </div>
                        <span class="status-count" id="kit-needs-printing-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_sent" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-kit-sent"></span>
                            <span class="status-label">Kit Sent</span>
                        </div>
                        <span class="status-count" id="kit-sent-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="kit_delivered" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-kit-delivered"></span>
                            <span class="status-label">Kit Delivered</span>
                        </div>
                        <span class="status-count" id="kit-delivered-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="delivered_to_us" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-delivered-to-us"></span>
                            <span class="status-label">Delivered To Us</span>
                        </div>
                        <span class="status-count" id="delivered-to-us-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="label_generated" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-label"></span>
                            <span class="status-label">Label Generated</span>
                        </div>
                        <span class="status-count" id="label-generated-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="emailed" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-emailed"></span>
                            <span class="status-label">Emailed</span>
                        </div>
                        <span class="status-count" id="emailed-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="received" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-received"></span>
                            <span class="status-label">Received</span>
                        </div>
                        <span class="status-count" id="received-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="completed" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-completed"></span>
                            <span class="status-label">Completed</span>
                        </div>
                        <span class="status-count" id="completed-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-pending" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-pending"></span>
                            <span class="status-label">Reoffer Pending</span>
                        </div>
                        <span class="status-count" id="re-offered-pending-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-accepted" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-accepted"></span>
                            <span class="status-label">Reoffer Accepted</span>
                        </div>
                        <span class="status-count" id="re-offered-accepted-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="re-offered-declined" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-reoffer-declined"></span>
                            <span class="status-label">Reoffer Declined</span>
                        </div>
                        <span class="status-count" id="re-offered-declined-count">0</span>
                    </li>
                    <li class="status-breakdown-item" data-status="return-label-generated" role="button" tabindex="0">
                        <div class="status-info">
                            <span class="status-dot status-dot-return"></span>
                            <span class="status-label">Return Label Sent</span>
                        </div>
                        <span class="status-count" id="return-label-generated-count">0</span>
                    </li>
                </ul>
            </div>
        </div>

        
        <div class="orders-table-container">
            <div class="orders-table-header">Orders List</div>
                <div class="orders-toolbar">
                    <div class="view-controls">
                        <label class="density-toggle" for="compact-density-toggle">
                            <input type="checkbox" id="compact-density-toggle">
                            Compact rows
                        </label>
                        <span class="orders-toolbar-note" id="last-refresh-at">Updated just now</span>
                    </div>
                    <div class="orders-toolbar-actions">
                        <div class="bulk-status-controls">
                            <select id="bulk-status-select" class="bulk-status-select">
                                <option value="">Bulk update status</option>
                            </select>
                            <button type="button" id="bulk-status-apply" class="bulk-status-apply" disabled>
                                <i class="fas fa-check"></i>
                                Update
                            </button>
                            <span class="bulk-status-note">Customer will not be emailed.</span>
                            <span class="bulk-selection-count" id="bulk-selection-count">No orders selected</span>
                        </div>
                    </div>
            </div>
            <div class="orders-table-wrapper">
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th class="select-column">
                                <input type="checkbox" id="select-all-orders" class="order-select-checkbox" aria-label="Select all orders on this page">
                            </th>
                            <th>Order ID</th>
                            <th>Order Date</th>
                            <th>Last Updated</th>
                            <th>Customer</th>
                            <th>Item</th>
                            <th>Status</th>
                            <th>Tracking #</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="orders-table-body">
                        <tr><td colspan="9" class="py-8 text-center text-slate-500">Loading orders...</td></tr>
                    </tbody>
                </table>
            </div>
            <div id="no-orders-message" class="hidden">No orders found for this status.</div>
            <div id="pagination-controls" class="pagination-controls hidden">
                <span class="pagination-info" id="pagination-info">Page 1 of 1</span>
                <div class="pagination-actions">
                    <button id="pagination-first" class="pagination-button" disabled>
                        <i class="fas fa-angles-left"></i>
                        First
                    </button>
                    <button id="pagination-prev" class="pagination-button" disabled>
                        <i class="fas fa-arrow-left"></i>
                        Previous
                    </button>
                    <div id="pagination-pages" class="pagination-pages"></div>
                    <button id="pagination-next" class="pagination-button">
                        Next
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button id="pagination-last" class="pagination-button">
                        Last
                        <i class="fas fa-angles-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <footer class="admin-footer">
            <div class="admin-footer-copy">
                <strong>SecondHandCell Operations</strong>
                <span> <span id="admin-footer-year"></span> All rights reserved.</span>
            </div>
            <div class="admin-footer-links">
                <a href="mailto:support@secondhandcell.com">Support</a>
                <a href="../terms.html" target="_blank" rel="noopener">Terms</a>
                <a href="../privacy.html" target="_blank" rel="noopener">Privacy</a>
            </div>
            <div class="admin-footer-logos">
                <a id="trustpilot-footer-link" href="#" target="_blank" rel="noopener" aria-label="Read our Trustpilot reviews">
                    <img id="trustpilot-footer-image" class="trustpilot-stars" src="" alt="Trustpilot rating" loading="lazy">
                </a>
            </div>
        </footer>
        </div>
    </main>

    <div id="order-details-modal" class="fixed inset-0 bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 hidden">
        <div class="relative">
            <button id="close-modal" class="absolute top-4 right-4 text-slate-400 hover:text-white text-2xl">
                <i class="fas fa-times"></i>
            </button>
            <div class="space-y-4 text-slate-700">
                <h3 class="text-2xl font-bold text-slate-900">Order Details <span id="modal-order-id" class="text-sky-600"></span></h3>
                <div class="grid gap-3 text-sm">
                    <p><strong>Customer:</strong> <span id="modal-customer-name"></span></p>
                    <p><strong>Email:</strong> <span id="modal-customer-email"></span></p>
                    <p><strong>Phone:</strong> <span id="modal-customer-phone"></span></p>
                    <p><strong>Item:</strong> <span id="modal-item"></span></p>
                    <p><strong>Storage:</strong> <span id="modal-storage"></span></p>
                    <p><strong>Carrier:</strong> <span id="modal-carrier"></span></p>
                    <p><strong>Estimated Payout:</strong> $<span id="modal-price"></span></p>
                    <p><strong>Payment Method:</strong> <span id="modal-payment-method"></span></p>
                    <p id="modal-venmo-username-row" class="hidden"><strong>Venmo Username:</strong> <span id="modal-venmo-username"></span></p>
                    <p id="modal-paypal-email-row" class="hidden"><strong>PayPal Email:</strong> <span id="modal-paypal-email"></span></p>
                    <p id="modal-zelle-details-row" class="hidden"><strong>Zelle Info:</strong> <span id="modal-zelle-details"></span></p>
                    <p><strong>Shipping Address:</strong> <span id="modal-shipping-address"></span></p>
                    <div id="modal-imei-section" class="hidden rounded-xl border border-slate-200 bg-white/60 p-4 shadow-sm">
                        <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                            <h4 class="text-lg font-semibold text-slate-900">IMEI Check</h4>
                            <div class="text-xs font-medium uppercase tracking-[0.2em] text-slate-500">
                                <span>Status:</span>
                                <span id="modal-imei-status" class="ml-2 text-slate-700"></span>
                            </div>
                        </div>
                        <p id="modal-imei-message" class="mt-2 text-sm text-slate-600">Loading device record</p>
                        <div id="modal-imei-form" class="mt-3 hidden flex-col gap-3 sm:flex-row sm:items-center">
                            <label class="text-sm font-medium text-slate-700" for="modal-imei-input">Enter IMEI to test</label>
                            <input id="modal-imei-input" type="text" maxlength="15" inputmode="numeric" autocomplete="off" placeholder="15-digit IMEI" class="w-full flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm tracking-widest text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200" />
                            <button id="modal-imei-button" type="button" class="inline-flex items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:bg-slate-400">Check IMEI</button>
                        </div>
                        <p id="modal-imei-error" class="mt-2 hidden text-sm text-rose-600"></p>
                        <div id="modal-imei-result" class="mt-4 hidden rounded-lg border border-slate-200 bg-slate-50 p-4">
                            <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                                <div>
                                    <p class="text-sm font-semibold text-slate-700">Latest provider result</p>
                                    <p class="text-xs text-slate-500">Device ID: <span id="modal-imei-device-id" class="font-mono text-slate-700"></span></p>
                                </div>
                                <p id="modal-imei-checked-at" class="text-xs text-slate-500"></p>
                            </div>
                            <dl id="modal-imei-result-list" class="mt-3 grid gap-2 text-sm text-slate-700"></dl>
                            <details id="modal-imei-raw-details" class="mt-3 hidden">
                                <summary class="cursor-pointer text-sm font-semibold text-slate-600">View raw provider data</summary>
                                <pre id="modal-imei-raw" class="mt-2 max-h-64 overflow-auto rounded-lg bg-white p-3 text-xs leading-relaxed text-slate-700"></pre>
                            </details>
                        </div>
                    </div>
                    <div>
                        <strong>Conditions:</strong>
                        <ul class="list-disc list-inside ml-4 mt-1 space-y-1">
                            <li>Powers On: <span id="modal-condition-power-on"></span></li>
                            <li>Fully Functional: <span id="modal-condition-functional"></span></li>
                            <li>No Cracks: <span id="modal-condition-cracks"></span></li>
                            <li>Cosmetic: <span id="modal-condition-cosmetic"></span></li>
                        </ul>
                    </div>
                    <div class="flex items-center gap-3">
                        <strong>Current Status:</strong>
                        <div id="modal-status-wrapper" class="relative">
                            <button id="modal-status" type="button" class="inline-flex items-center gap-2 font-semibold text-xs px-3 py-1 rounded-full border border-transparent shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400">
                                <span id="modal-status-text"></span>
                                <svg id="modal-status-caret" class="h-3 w-3 text-current transition-transform" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                            <div id="modal-status-dropdown" class="hidden absolute z-30 mt-2 w-64 rounded-lg border border-slate-200 bg-white shadow-xl py-2"></div>
                        </div>
                    </div>
                    <p><strong>Order Age:</strong> <span id="modal-order-age">Calculating</span></p>
                    <p><strong>Last Reminder:</strong> <span id="modal-last-reminder-date">N/A</span></p>
                    <p id="modal-label-row" class="hidden"><strong><span id="modal-label-description">Shipping Label</span>:</strong> <a id="modal-label-link" href="#" target="_blank" class="text-sky-600 hover:underline">View Label</a> (<span id="modal-tracking-number"></span>)</p>
                    <p id="modal-secondary-label-row" class="hidden"><strong><span id="modal-secondary-label-description">Secondary Label</span>:</strong> <a id="modal-secondary-label-link" href="#" target="_blank" class="text-sky-600 hover:underline">View Label</a> (<span id="modal-secondary-tracking-number-display"></span>)</p>
                    <p id="modal-return-label-row" class="hidden"><strong><span id="modal-return-label-description">Return Label</span>:</strong> <a id="modal-return-label-link" href="#" target="_blank" class="text-rose-600 hover:underline">View Return Label</a> (<span id="modal-return-tracking-number-display"></span>)</p>
                    <div id="modal-label-status-row" class="hidden bg-slate-100 border border-slate-200 rounded-lg p-3 space-y-2">
                        <div class="flex items-center justify-between gap-3">
                            <p id="modal-label-status-title" class="text-sm font-semibold text-slate-700">Label Delivery Status</p>
                            <button id="modal-refresh-label-tracking" type="button" class="hidden inline-flex items-center gap-2 rounded-md border border-slate-300 bg-white px-3 py-1 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-slate-400">
                                <i class="fas fa-rotate"></i>
                                Refresh
                            </button>
                        </div>
                        <p id="modal-label-status" class="text-sm text-slate-600"></p>
                    </div>
                    <div id="modal-kit-tracking-row" class="hidden bg-slate-100 border border-slate-200 rounded-lg p-3">
                        <p id="modal-kit-tracking-title" class="text-sm font-semibold text-slate-700">Kit Delivery Status</p>
                        <p id="modal-kit-tracking-status" class="mt-1 text-slate-600"></p>
                        <p id="modal-kit-tracking-updated" class="mt-1 text-xs text-slate-500"></p>
                    </div>
                    <div id="modal-loading-message" class="hidden">
                        <i class="fas fa-spinner fa-spin"></i>
                        Processing request
                    </div>
                </div>

                <div id="reoffer-form-container" class="mt-6 p-4 border border-slate-200 rounded-lg hidden">
                    <h4 class="text-lg font-semibold text-slate-900 mb-4">Propose New Offer</h4>
                    <div class="space-y-4">
                        <div>
                            <label for="reoffer-new-price" class="block text-sm font-medium text-slate-700">New Offer Price ($)</label>
                            <input type="number" id="reoffer-new-price" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 150.00">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">Reasons</label>
                            <div class="mt-1 space-y-2">
                                <div class="flex items-center gap-2">
                                    <input id="reason-damaged" name="reoffer-reasons" type="checkbox" value="damaged" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                    <label for="reason-damaged" class="text-sm text-slate-700">Damaged (includes cracks)</label>
                                </div>
                                <div class="flex items-center gap-2">
                                    <input id="reason-deep-scratches" name="reoffer-reasons" type="checkbox" value="deep-scratches" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                    <label for="reason-deep-scratches" class="text-sm text-slate-700">Deep Scratches</label>
                                </div>
                                <div class="flex items-center gap-2">
                                    <input id="reason-wrong-device" name="reoffer-reasons" type="checkbox" value="wrong-device" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                    <label for="reason-wrong-device" class="text-sm text-slate-700">Wrong Device Sent</label>
                                </div>
                                <div class="flex items-center gap-2">
                                    <input id="reason-non-functional" name="reoffer-reasons" type="checkbox" value="non-functional" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                    <label for="reason-non-functional" class="text-sm text-slate-700">Non-Functional Component</label>
                                </div>
                                <div class="flex items-center gap-2">
                                    <input id="reason-other" name="reoffer-reasons" type="checkbox" value="other" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                    <label for="reason-other" class="text-sm text-slate-700">Other</label>
                                </div>
                            </div>
                        </div>
                        <div id="reoffer-pricing-helper" class="mt-4 p-3 bg-slate-50 border border-slate-200 rounded-lg hidden">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1">
                                <p class="text-sm font-semibold text-slate-700">Feed Pricing Suggestions</p>
                                <span id="reoffer-pricing-model" class="text-xs uppercase tracking-wide text-slate-500"></span>
                            </div>
                            <p class="text-xs text-slate-500 mt-1">Click a value below to populate the new offer amount.</p>
                            <div id="reoffer-pricing-values" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
                            <p id="reoffer-pricing-message" class="mt-2 text-xs text-rose-500 hidden"></p>
                        </div>
                        <div>
                            <label for="reoffer-comments" class="block text-sm font-medium text-slate-700">Additional Comments</label>
                            <textarea id="reoffer-comments" rows="3" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="Enter additional details here..."></textarea>
                        </div>
                    </div>
                    <div class="mt-4 flex justify-end gap-3">
                        <button id="cancel-reoffer-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                        <button id="submit-reoffer-btn" type="button" class="bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Send Re-offer</button>
                    </div>
                    <span id="orders-trend-delta" class="trend-delta trend-neutral">0%</span>
                </div>

                <div id="manual-fulfillment-form-container" class="mt-6 p-4 border border-slate-200 rounded-lg hidden">
                    <h4 class="text-lg font-semibold text-slate-900 mb-4">Manually Fulfill Order (External Label)</h4>
                    <p id="manual-fulfillment-message" class="text-sm text-slate-600 mb-4">Enter the tracking number(s) generated externally. This will update the order status and notify the customer.</p>
                    <div class="space-y-4">
                        <div id="manual-outbound-tracking-group">
                            <label for="manual-outbound-tracking" class="block text-sm font-medium text-slate-700">Outbound Kit Tracking # (Required for Kits)</label>
                            <input type="text" id="manual-outbound-tracking" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 9400 1000 0000 0000 0000 00">
                        </div>
                        <div id="manual-inbound-tracking-group">
                            <label for="manual-inbound-tracking" class="block text-sm font-medium text-slate-700">Inbound Device Tracking # (Required)</label>
                            <input type="text" id="manual-inbound-tracking" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="e.g., 9400 1000 0000 0000 0000 01">
                        </div>
                        <div>
                            <label for="manual-label-url" class="block text-sm font-medium text-slate-700">Inbound Label URL (Optional - direct PDF link)</label>
                            <input type="url" id="manual-label-url" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2" placeholder="https://example.com/label.pdf">
                        </div>
                    </div>
                    <div class="mt-4 flex justify-end gap-3">
                        <button id="cancel-manual-fulfillment-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                        <button id="submit-manual-fulfillment-btn" type="button" class="bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Confirm Fulfillment</button>
                    </div>
                </div>

                <div id="cancel-order-form-container" class="mt-6 p-4 border border-rose-200 bg-rose-50 rounded-lg hidden">
                    <h4 class="text-lg font-semibold text-rose-600 mb-2">Cancel Order &amp; Void Labels</h4>
                    <p id="cancel-order-message" class="text-sm text-rose-700">Select the shipping labels that should be voided before cancelling this order.</p>
                    <div id="cancel-order-void-options" class="mt-4 space-y-3"></div>
                    <p id="cancel-order-error" class="mt-3 text-sm text-rose-600 hidden"></p>
                    <div class="mt-4 flex justify-end gap-3">
                        <button id="cancel-cancel-order-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Back</button>
                        <button id="confirm-cancel-order-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Void Labels &amp; Cancel Order</button>
                    </div>
                </div>

                <div id="void-label-form-container" class="mt-6 p-4 border border-rose-200 bg-rose-50 rounded-lg hidden">
                    <h4 class="text-lg font-semibold text-rose-600 mb-2">Void Shipping Labels</h4>
                    <p class="text-sm text-rose-700">Select the labels you would like to cancel. Carrier approval may vary based on label age and usage.</p>
                    <div id="void-label-options" class="mt-4 space-y-3"></div>
                    <p id="void-label-message" class="mt-3 text-sm hidden"></p>
                    <div class="mt-4 flex justify-end gap-3">
                        <button id="cancel-void-label-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                        <button id="submit-void-label-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Void Selected Labels</button>
                    </div>
                </div>

                <div id="clear-data-form-container" class="mt-6 p-4 border border-amber-200 bg-amber-50 rounded-lg hidden">
                    <h4 class="text-lg font-semibold text-amber-700 mb-2">Clear Saved Shipping Data</h4>
                    <p class="text-sm text-amber-700">Remove outdated tracking numbers or label records so you can regenerate the correct documents without visiting Firestore.</p>
                    <p id="clear-data-message" class="mt-3 text-sm hidden"></p>
                    <div id="clear-data-options" class="mt-4 space-y-3"></div>
                    <div class="mt-4 flex justify-end gap-3">
                        <button id="cancel-clear-data-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                        <button id="submit-clear-data-btn" type="button" class="bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Clear Selected Data</button>
                    </div>
                </div>

                <div id="delete-confirmation-container" class="mt-6 p-4 bg-rose-100 border border-rose-300 rounded-lg hidden">
                    <p class="text-sm font-semibold text-rose-700 mb-3"> Are you sure you want to permanently delete this order? This action cannot be undone.</p>
                    <div class="flex justify-end gap-3">
                        <button id="cancel-delete-btn" type="button" class="bg-slate-400 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-md transition-colors">Cancel</button>
                        <button id="confirm-delete-btn" type="button" class="bg-rose-600 hover:bg-rose-700 text-white font-semibold py-2 px-4 rounded-md transition-colors">Yes, Delete Permanently</button>
                    </div>
                </div>

                <button id="send-reminder-btn" class="hidden mt-6 w-full px-4 py-3 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors flex items-center justify-center gap-2">
                    <i class="fas fa-envelope"></i>
                    <span>Send Reminder Email</span>
                </button>
                <button id="send-expiring-reminder-btn" class="hidden mt-3 w-full px-4 py-3 bg-rose-500 text-white font-semibold rounded-lg hover:bg-rose-600 transition-colors flex items-center justify-center gap-2">
                    <i class="fas fa-hourglass-half"></i>
                    <span>Send Expiration Reminder</span>
                </button>
                <button id="send-kit-reminder-btn" class="hidden mt-3 w-full px-4 py-3 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2">
                    <i class="fas fa-truck"></i>
                    <span>Send Kit Follow-up</span>
                </button>

                

                <div id="modal-activity-log" class="hidden">
                    <h4>Recent Activity</h4>
                    <ul id="modal-activity-log-list"></ul>
                </div>

                <div id="modal-action-buttons" class="mt-6"></div>
                <div id="modal-message" class="mt-4 p-3 text-sm rounded-md hidden"></div>
            </div>
        </div>
    </div>
    <!-- Floating Chat Button -->
    <button class="floating-chat-btn" onclick="window.location.href='chat/index.html'" title="Open Chat Dashboard">
        <i class="fas fa-comments"></i>
        <span class="unread-badge" id="floating-chat-badge" style="display: none;">0</span>
    </button>

    <script>
        window.escapeHtml = window.escapeHtml || function (value) {
            if (value === null || value === undefined) {
                return "";
            }
            return String(value)
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#39;");
        };
    </script>
    <script type="module" src="/assets/js/pages/admin-index.js"></script>

  <script defer src="/assets/js/cookie-consent.js"></script>
</body>
</html>
