:root {
    color-scheme: dark light;
    --aura-bg-1: #0f172a;
    --aura-bg-2: #1e1b4b;
    --aura-bg-3: #082f49;
    --aura-highlight: #38bdf8;
    --aura-highlight-strong: #22d3ee;
    --aura-neon: #c084fc;
    --aura-amber: #fbbf24;
    --aura-soft: rgba(148, 163, 184, 0.25);
    --glass-border: rgba(255, 255, 255, 0.22);
    --glass-highlight: rgba(148, 197, 255, 0.42);
    --chrome-text: linear-gradient(115deg, rgba(255,255,255,0.92) 0%, rgba(226,232,240,0.6) 25%, rgba(30,41,59,0.85) 50%, rgba(226,232,240,0.75) 75%, rgba(255,255,255,0.95) 100%);
    --headline-weight: 700;
}

body.kinetic-aura {
    min-height: 100%;
    background: radial-gradient(circle at 20% -10%, rgba(99, 102, 241, 0.45), transparent 55%),
                radial-gradient(circle at 85% 15%, rgba(236, 72, 153, 0.28), transparent 50%),
                radial-gradient(circle at 50% 90%, rgba(56, 189, 248, 0.32), transparent 60%),
                linear-gradient(135deg, var(--aura-bg-1), var(--aura-bg-2));
    background-attachment: fixed;
    color: #e2e8f0;
    animation: aura-pan 22s ease-in-out infinite alternate;
}

body.kinetic-aura-static {
    min-height: 100%;
    background: linear-gradient(135deg, var(--aura-bg-1), var(--aura-bg-3));
    color: #e2e8f0;
}

body.kinetic-aura::before,
body.kinetic-aura::after {
    content: "";
    position: fixed;
    inset: -20vmax;
    pointer-events: none;
    background: radial-gradient(circle at var(--orb-x, 30%) var(--orb-y, 30%), rgba(34, 211, 238, 0.25), transparent 55%);
    mix-blend-mode: screen;
    filter: blur(60px);
    opacity: clamp(0.3, 2vw, 0.55);
    transition: opacity 0.5s ease;
    z-index: -2;
}

body.kinetic-aura::after {
    background: radial-gradient(circle at calc(100% - var(--orb-x, 30%)) calc(100% - var(--orb-y, 30%)), rgba(192, 132, 252, 0.28), transparent 55%);
}

@keyframes aura-pan {
    0% {
        background-position: 0% 0%, 100% 0%, 50% 100%, 0% 0%;
    }
    50% {
        background-position: 50% 30%, 70% 40%, 60% 80%, 50% 50%;
    }
    100% {
        background-position: 100% 60%, 0% 90%, 40% 60%, 100% 100%;
    }
}

body.kinetic-aura .aura-surface {
    position: relative;
    background: linear-gradient(155deg, rgba(15, 23, 42, 0.78), rgba(15, 23, 42, 0.55));
    border-radius: 28px;
    border: 1px solid var(--glass-border);
    box-shadow: 0 35px 65px rgba(15, 23, 42, 0.45);
    backdrop-filter: blur(28px) saturate(145%);
    -webkit-backdrop-filter: blur(28px) saturate(145%);
    overflow: hidden;
    transition: transform 0.65s cubic-bezier(0.22, 1, 0.36, 1),
                border-color 0.4s ease, box-shadow 0.65s cubic-bezier(0.22, 1, 0.36, 1);
    will-change: transform;
}

body.kinetic-aura .aura-surface::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(130deg, rgba(56, 189, 248, 0.18), rgba(99, 102, 241, 0.16) 45%, transparent 75%);
    opacity: 0.9;
    mix-blend-mode: screen;
    pointer-events: none;
    transition: opacity 0.4s ease;
}

body.kinetic-aura .aura-surface:hover {
    transform: translateY(-12px) scale(1.01);
    border-color: var(--glass-highlight);
    box-shadow: 0 40px 95px rgba(56, 189, 248, 0.22), 0 28px 50px rgba(15, 23, 42, 0.55);
}

body.kinetic-aura .aura-surface:hover::before {
    opacity: 1;
}

.headline-glow {
    font-weight: var(--headline-weight);
    letter-spacing: -0.03em;
    background: linear-gradient(120deg, var(--aura-highlight) 0%, var(--aura-neon) 50%, var(--aura-amber) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 0 18px rgba(56, 189, 248, 0.35));
    animation: sheen 6s linear infinite;
}

@keyframes sheen {
    0%, 100% { background-size: 200% 200%; background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.chrome-text {
    font-weight: var(--headline-weight);
    background: var(--chrome-text);
    -webkit-background-clip: text;
    color: transparent;
    text-transform: uppercase;
    letter-spacing: 0.12em;
}

.neon-outline {
    position: relative;
    display: inline-block;
    color: #e0f2fe;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    padding-inline: 0.75em;
}

.neon-outline::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 999px;
    border: 1px solid rgba(56, 189, 248, 0.45);
    box-shadow: 0 0 25px rgba(56, 189, 248, 0.45), inset 0 0 18px rgba(14, 165, 233, 0.35);
    animation: pulse 3.6s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.9; box-shadow: 0 0 25px rgba(56, 189, 248, 0.35), inset 0 0 18px rgba(14, 165, 233, 0.25); }
    50% { opacity: 0.7; box-shadow: 0 0 35px rgba(192, 132, 252, 0.45), inset 0 0 28px rgba(34, 211, 238, 0.3); }
}

.btn-magnetic {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.4s ease;
    will-change: transform;
}

.btn-magnetic::before {
    content: "";
    position: absolute;
    inset: -150%;
    background: radial-gradient(circle at calc(50% + var(--hover-x, 0px)) calc(50% + var(--hover-y, 0px)), rgba(255, 255, 255, 0.45), transparent 55%);
    opacity: 0;
    transition: opacity 0.35s ease;
    mix-blend-mode: screen;
}

.btn-magnetic:hover {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 0 18px 40px rgba(56, 189, 248, 0.35);
}

.btn-magnetic:hover::before {
    opacity: 0.9;
}

.btn-magnetic:active {
    transform: translateY(2px) scale(0.99);
}

.hover-underline {
    position: relative;
    text-decoration: none;
}

.hover-underline::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.35em;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, var(--aura-highlight) 0%, var(--aura-neon) 100%);
    transform-origin: left;
    transform: scaleX(0);
    transition: transform 0.35s cubic-bezier(0.45, 0, 0.25, 1);
}

.hover-underline:hover::after {
    transform: scaleX(1);
}

.blurred-backdrop {
    position: relative;
    isolation: isolate;
    background: rgba(15, 23, 42, 0.65);
    border-radius: 26px;
    border: 1px solid rgba(148, 163, 184, 0.25);
    overflow: hidden;
}

.blurred-backdrop::before {
    content: "";
    position: absolute;
    inset: -40%;
    background: conic-gradient(from 90deg, rgba(56, 189, 248, 0.5), transparent, rgba(192, 132, 252, 0.45), transparent 80%);
    filter: blur(60px);
    opacity: 0.65;
    transform: rotate(0deg);
    animation: swirl 24s linear infinite;
}

@keyframes swirl {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.floating-orb {
    position: absolute;
    width: clamp(180px, 22vw, 320px);
    aspect-ratio: 1;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.65), rgba(56,189,248,0.55) 45%, rgba(99,102,241,0.4) 70%, transparent 100%);
    filter: blur(2px);
    opacity: 0.55;
    transform: translateZ(0);
    pointer-events: none;
    animation: float 18s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translate3d(0, 0, 0) scale(1); }
    50% { transform: translate3d(12px, -18px, 0) scale(1.05); }
}

.gradient-divider {
    height: 1px;
    width: 100%;
    background: linear-gradient(90deg, transparent, rgba(148, 163, 184, 0.3), transparent);
}

/* Scroll driven animation utilities */
@supports (animation-timeline: scroll()) {
    @scroll-timeline body-scroll {
        source: auto;
        orientation: block;
    }

    .scroll-lift {
        animation: liftFade both 1;
        animation-timeline: body-scroll;
        animation-range: entry 15% exit 65%;
    }

    .scroll-parallax {
        animation: parallaxShift both linear;
        animation-timeline: body-scroll;
        animation-range: cover 0% cover 90%;
    }

    .scroll-reveal {
        animation: softReveal both ease-out;
        animation-timeline: body-scroll;
        animation-range: entry 10% exit 45%;
    }

    .scroll-tilt {
        animation: tiltIn both ease;
        animation-timeline: body-scroll;
        animation-range: entry 30% exit 75%;
    }
}

@keyframes liftFade {
    0% { opacity: 0; transform: translateY(35px) scale(0.98); }
    45% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0.7; transform: translateY(-15px) scale(1.02); }
}

@keyframes parallaxShift {
    0% { transform: translateY(-8%); }
    100% { transform: translateY(8%); }
}

@keyframes softReveal {
    0% { opacity: 0; transform: translateY(24px); filter: blur(8px); }
    100% { opacity: 1; transform: translateY(0); filter: blur(0); }
}

@keyframes tiltIn {
    0% { opacity: 0; transform: perspective(800px) rotateX(12deg) translateY(30px); }
    100% { opacity: 1; transform: perspective(800px) rotateX(0) translateY(0); }
}

/* Anchor positioning API helpers */
@layer anchor-ui {
    [data-anchor-trigger] {
        position: relative;
        anchor-name: --anchor-trigger;
    }

    [data-anchor-card] {
        position: fixed;
        top: anchor(--anchor-trigger bottom);
        left: anchor(--anchor-trigger center);
        transform: translateX(-50%);
        background: rgba(15, 23, 42, 0.92);
        padding: 1rem 1.2rem;
        border-radius: 18px;
        border: 1px solid rgba(94, 234, 212, 0.35);
        box-shadow: 0 20px 40px rgba(15, 23, 42, 0.45);
        color: #e0f2fe;
        width: min(280px, calc(100vw - 2rem));
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.25s ease, visibility 0.25s ease;
        z-index: 999;
    }

    [data-anchor-trigger]:hover + [data-anchor-card],
    [data-anchor-card]:hover,
    [data-anchor-card][data-open="true"] {
        opacity: 1;
        visibility: visible;
    }
}

/* Scroll snap carousel helpers */
.carousel-track {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: minmax(280px, 32%);
    gap: 1.5rem;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding-bottom: 1.5rem;
    scrollbar-width: thin;
}

.carousel-track > * {
    scroll-snap-align: start;
}

.carousel-track::-webkit-scrollbar {
    height: 6px;
}

.carousel-track::-webkit-scrollbar-thumb {
    background: linear-gradient(90deg, rgba(56, 189, 248, 0.4), rgba(192, 132, 252, 0.35));
    border-radius: 999px;
}

body.kinetic-aura input,
body.kinetic-aura select,
body.kinetic-aura textarea {
    background: rgba(15, 23, 42, 0.55);
    border: 1px solid rgba(148, 163, 184, 0.35);
    color: #e2e8f0;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

body.kinetic-aura label {
    color: rgba(226, 232, 240, 0.92);
}

body.kinetic-aura input:focus,
body.kinetic-aura select:focus,
body.kinetic-aura textarea:focus {
    border-color: rgba(94, 234, 212, 0.65);
    box-shadow: 0 0 0 3px rgba(94, 234, 212, 0.25);
}

body.kinetic-aura input::placeholder,
body.kinetic-aura textarea::placeholder {
    color: rgba(203, 213, 225, 0.6);
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    body.kinetic-aura {
        animation: none;
    }

    body.kinetic-aura::before,
    body.kinetic-aura::after,
    .blurred-backdrop::before,
    .floating-orb,
    .btn-magnetic,
    .headline-glow {
        animation: none !important;
        transition: none !important;
    }

    .btn-magnetic::before {
        display: none;
    }
}

@media (max-width: 768px) {
    body.kinetic-aura .aura-surface {
        border-radius: 22px;
    }

    .carousel-track {
        grid-auto-columns: 80%;
    }
}
