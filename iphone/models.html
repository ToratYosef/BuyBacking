<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftBuyBack - Sell Your iPhone</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom styles for hidden radio buttons and clickable images */
        .carrier-option input[type="radio"] {
            display: none; /* Hide the actual radio button */
        }
        .carrier-option label {
            cursor: pointer;
            border: 2px solid transparent; /* Default border */
            border-radius: 0.75rem; /* rounded-xl equivalent */
            transition: all 0.2s ease-in-out;
            display: flex; /* Use flex to center image and text */
            flex-direction: column; /* Stack image and text vertically */
            align-items: center; /* Center horizontally */
            justify-content: center; /* Center vertically */
            height: 100%; /* Ensure label takes full height of grid item */
        }
        .carrier-option input[type="radio"]:checked + label {
            border-color: #4f46e5; /* Indigo-600 for checked state */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* shadow-lg equivalent */
            transform: scale(1.02); /* Slight scale on selection */
        }
        .carrier-option label:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* shadow-lg on hover */
        }

        /* Styling for the clickable card */
        .phone-card-link {
            display: flex; /* Make the entire link a flex container */
            flex-direction: column; /* Stack content vertically */
            height: 100%; /* Ensure it fills the grid cell height */
            text-decoration: none; /* Remove underline from the link */
            color: inherit; /* Inherit text color */
        }

        /* Ensure the card retains its styling on hover via the link */
        .phone-card-link:hover .phone-card-inner {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Tailwind shadow-lg */
        }

        /* Modal specific styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 2rem; /* p-8 */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-xl */
            max-width: 90%;
            width: 450px; /* Adjusted width for modal */
            position: relative;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        /* Tab styles */
        .tab-button {
            padding: 0.75rem 1.5rem; /* px-6 py-3 */
            font-weight: 600; /* font-semibold */
            border-bottom-width: 2px;
            border-color: transparent;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .tab-button.active {
            border-color: #4f46e5; /* indigo-600 */
            color: #4f46e5; /* indigo-600 */
        }
        .tab-button:hover {
            color: #4f46e5; /* indigo-600 */
        }
        /* Styles for the circular monogram */
        .initials-monogram {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #ffffff; /* White text for contrast */
            font-size: 1rem;
            transition: background-color 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Header (reused for consistency) -->
    <header class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-indigo-700 rounded-md p-2">SwiftBuyBack</a>
            <nav class="space-x-4 flex items-center">
                <a href="sell-device.html" class="text-gray-600 hover:text-indigo-700 font-medium rounded-md px-3 py-2 transition duration-300">Sell Your Device</a>
                
                <!-- Login link (visible when not logged in) - Now opens modal -->
                <a id="login-link" href="#" class="text-gray-600 hover:text-indigo-700 font-medium rounded-md px-3 py-2 transition duration-300">Login</a>

                <!-- User menu (hidden by default, visible when logged in) -->
                <div id="user-menu-container" class="relative hidden">
                    <div id="user-monogram" class="initials-monogram cursor-pointer bg-indigo-500 text-white"></div>
                    <div id="user-dropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden">
                        <a href="my-account.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Account</a>
                        <button id="dropdown-logout-button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content - iPhone Models Listing -->
    <main class="flex-grow container mx-auto px-4 py-12">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-10">Sell Your iPhone</h1>
        <p class="text-lg text-center text-gray-600 mb-12">Select your iPhone model to get an instant quote and turn it into cash!</p>

        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-8">

            <!-- iPhone 16 Pro Max -->
            <a href="iphone-16-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i16pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i16pm" alt="iPhone 16 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 16 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $800</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 16 Pro -->
            <a href="iphone-16-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i16p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i16p" alt="iPhone 16 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 16 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $750</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 16 -->
            <a href="iphone-16.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i16_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i16" alt="iPhone 16" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 16</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $650</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 16 Plus -->
            <a href="iphone-16-plus.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i16pl_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i16pl" alt="iPhone 16 Plus" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 16 Plus</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $600</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 16 SE -->
            <a href="iphone-16-se.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i16e_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i16e" alt="iPhone 16 SE" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 16 SE</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $450</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 15 Pro Max -->
            <a href="iphone-15-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i15pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i15pm" alt="iPhone 15 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 15 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $700</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 15 Pro -->
            <a href="iphone-15-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i15p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i15p" alt="iPhone 15 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 15 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $650</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 15 -->
            <a href="iphone-15.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i15_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i15" alt="iPhone 15" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 15</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $550</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 15 Plus -->
            <a href="iphone-15-plus.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i15pl_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i15pl" alt="iPhone 15 Plus" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 15 Plus</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $500</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 14 Pro Max -->
            <a href="iphone-14-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i14pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i14pm" alt="iPhone 14 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 14 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $500</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 14 Pro -->
            <a href="iphone-14-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i14p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i14p" alt="iPhone 14 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 14 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $450</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 14 -->
            <a href="iphone-14.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i14_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i14" alt="iPhone 14" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 14</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $380</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 14 Plus -->
            <a href="iphone-14-plus.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i14pl_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i14pl" alt="iPhone 14 Plus" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 14 Plus</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $350</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 13 Pro Max -->
            <a href="iphone-13-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i13pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i13pm" alt="iPhone 13 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 13 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $400</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 13 Pro -->
            <a href="iphone-13-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i13p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i13p" alt="iPhone 13 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 13 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $350</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 13 -->
            <a href="iphone-13.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i13_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i13" alt="iPhone 13" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 13</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $300</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 13 mini -->
            <a href="iphone-13-mini.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i13m_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i13m" alt="iPhone 13 mini" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 13 mini</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $280</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 12 Pro Max -->
            <a href="iphone-12-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i12pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i12pm" alt="iPhone 12 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 12 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $350</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 12 Pro -->
            <a href="iphone-12-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i12p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i12p" alt="iPhone 12 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 12 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $300</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 12 -->
            <a href="iphone-12.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i12_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i12" alt="iPhone 12" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 12</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $250</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 12 mini -->
            <a href="iphone-12-mini.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i12m_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i12m" alt="iPhone 12 mini" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 12 mini</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $230</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 11 Pro Max -->
            <a href="iphone-11-pro-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i11pm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i11pm" alt="iPhone 11 Pro Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 11 Pro Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $300</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 11 Pro -->
            <a href="iphone-11-pro.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i11p_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i11p" alt="iPhone 11 Pro" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 11 Pro</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $280</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone 11 -->
            <a href="iphone-11.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="i11_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/i11" alt="iPhone 11" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone 11</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $220</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone SE (3rd Gen) -->
            <a href="iphone-se-3rd-gen.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ise3_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ise3" alt="iPhone SE (3rd Gen)" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone SE (3rd Gen)</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $300</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone SE (2nd Gen) -->
            <a href="iphone-se-2nd-gen.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ise2_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ise2" alt="iPhone SE (2nd Gen)" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone SE (2nd Gen)</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $200</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone XR -->
            <a href="iphone-xr.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ixr_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ixr" alt="iPhone XR" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone XR</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $200</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone XS Max -->
            <a href="iphone-xs-max.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ixsm_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ixsm" alt="iPhone XS Max" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone XS Max</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $250</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone XS -->
            <a href="iphone-xs.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ixs_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ixs" alt="iPhone XS" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone XS</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $220</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

            <!-- iPhone X -->
            <a href="iphone-x.html" class="phone-card-link">
                <div class="phone-card-inner bg-white p-6 rounded-xl shadow-lg text-center flex flex-col h-full transition duration-300">
                    <img id="ix_img" src="" data-base-src="https://raw.githubusercontent.com/ToratYosef/BuyBacking/refs/heads/main/iphone/assets/ix" alt="iPhone X" class="mx-auto mb-4 rounded-lg" width="680" height="528">
                    <h3 class="text-xl font-semibold mb-2">iPhone X</h3>
                    <p class="text-indigo-600 font-bold mb-4">Starting from $180</p>
                    <button class="bg-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium mt-auto w-full">Sell This</button>
                </div>
            </a>

        </div>
    </main>

    <!-- Footer (reused for consistency) -->
    <footer class="bg-gray-800 text-white py-12 mt-8 w-full">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4">SwiftBuyBack</h3>
                <p class="text-gray-400">Your trusted partner for selling used smartphones. Quick quotes, fair prices, and hassle-free service.</p>
            </div>
            <div>
                <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="index.html" class="text-gray-400 hover:text-white transition duration-300">Home</a></li>
                    <li><a href="sell-device.html" class="text-gray-400 hover:text-white transition duration-300">Sell Your Phone</a></li>
                    <li><a href="my-account.html" class="text-gray-400 hover:text-white transition duration-300">My Account</a></li>
                    <li><a href="about-us.html" class="text-gray-400 hover:text-white transition duration-300">About Us</a></li>
                    <li><a href="contact.html" class="text-gray-400 hover:text-white transition duration-300">Contact</a></li>
                </ul>
            </div>
            <div class="md:col-span-2 lg:col-span-1">
                <h3 class="text-xl font-bold mb-4">Contact Us</h3>
                <p class="text-gray-400">Email: info@swiftbuyback.com</p>
                <p class="text-gray-400">Phone: (123) 456-7890</p>
                <p class="text-gray-400 mt-4">&copy; 2025 SwiftBuyBack. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login/Signup Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="flex border-b border-gray-200 mb-6">
                <button id="login-tab-button" class="tab-button active flex-1">Login</button>
                <button id="signup-tab-button" class="tab-button flex-1">Sign Up</button>
            </div>

            <!-- Login Form -->
            <div id="login-form-container">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Login to Your Account</h2>
                <form id="login-form" class="space-y-4">
                    <div>
                        <label for="login-email" class="sr-only">Email</label>
                        <input type="email" id="login-email" placeholder="Email" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="login-password" class="sr-only">Password</label>
                        <input type="password" id="login-password" placeholder="Password" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <button type="submit"
                            class="w-full bg-indigo-600 text-white px-6 py-3 rounded-md font-bold text-lg hover:bg-indigo-700 transition duration-300">
                        Login
                    </button>
                    <p id="login-error-message" class="text-red-600 text-center text-sm mt-2 hidden"></p>
                </form>
            </div>

            <!-- Sign Up Form -->
            <div id="signup-form-container" class="hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Create a New Account</h2>
                <form id="signup-form" class="space-y-4">
                    <div>
                        <label for="signup-display-name" class="sr-only">Display Name (Optional)</label>
                        <input type="text" id="signup-display-name" placeholder="Display Name (Optional)"
                               class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="signup-email" class="sr-only">Email</label>
                        <input type="email" id="signup-email" placeholder="Email" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="signup-password" class="sr-only">Password</label>
                        <input type="password" id="signup-password" placeholder="Password" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <button type="submit"
                            class="w-full bg-indigo-600 text-white px-6 py-3 rounded-md font-bold text-lg hover:bg-indigo-700 transition duration-300">
                        Sign Up
                    </button>
                    <p id="signup-error-message" class="text-red-600 text-center text-sm mt-2 hidden"></p>
                </form>
            </div>
        </div>
    </div>

    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signOut, onAuthStateChanged, signInWithCustomToken, signInAnonymously, 
                 signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Make 'auth' globally accessible for console debugging
        let authInstance; 

        document.addEventListener('DOMContentLoaded', async function() {
            // --- Firebase Initialization and Authentication ---
            const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
            const app = initializeApp(firebaseConfig);
            authInstance = getAuth(app); // Assign to global variable
            window.firebaseAuth = authInstance; // Explicitly attach to window for console access

            let currentUserId = null;
            let authReady = false;

            // First, attempt to sign in or get current user state
            try {
                if (typeof __initial_auth_token !== 'undefined') {
                    await signInWithCustomToken(authInstance, __initial_auth_token);
                } else {
                    await signInAnonymously(authInstance);
                }
                currentUserId = authInstance.currentUser.uid;
                console.log("Firebase authentication attempted on models.html. User ID:", currentUserId);
                authReady = true;
            } catch (error) {
                console.error("Initial Firebase authentication failed on models.html:", error);
                authReady = true;
            }

            // Listen for auth state changes after initial attempt
            onAuthStateChanged(authInstance, (user) => {
                if (authReady) {
                    if (user) {
                        // User is signed in
                        currentUserId = user.uid;
                        console.log("User signed in via onAuthStateChanged on models.html. User ID:", currentUserId);
                        loginLink.classList.add('hidden');
                        userMenuContainer.classList.remove('hidden');

                        // Generate initials
                        let initials = '??';
                        if (user.displayName) {
                            const nameParts = user.displayName.split(' ').filter(part => part.length > 0);
                            if (nameParts.length > 1) {
                                initials = nameParts[0][0] + nameParts[nameParts.length - 1][0];
                            } else if (nameParts.length === 1) {
                                initials = nameParts[0][0];
                            }
                        } else if (user.email) {
                            initials = user.email[0];
                        }
                        userMonogram.textContent = initials.toUpperCase();
                        userMonogram.style.backgroundColor = getRandomLightColor();

                    } else {
                        // User is signed out
                        console.log("User not signed in on models.html.");
                        loginLink.classList.remove('hidden');
                        userMenuContainer.classList.add('hidden');
                        userDropdown.classList.add('hidden'); // Ensure dropdown is hidden when logged out
                    }
                }
            });

            // Function to load image with fallback extensions
            function loadImageWithFallback(imgElement) {
                const baseSrc = imgElement.dataset.baseSrc;
                const extensions = ['.webp', '.png', '.jpeg', '.jpg'];
                let foundImage = false;

                for (let i = 0; i < extensions.length; i++) {
                    const testSrc = baseSrc + extensions[i];
                    const img = new Image();
                    img.onload = function() {
                        if (!foundImage) {
                            imgElement.src = testSrc;
                            foundImage = true;
                        }
                    };
                    img.onerror = function() {
                        if (i === extensions.length - 1 && !foundImage) {
                            if (imgElement.id.includes('_cat_img')) {
                                imgElement.src = "https://placehold.co/80x80/e0e7ff/4338ca?text=Category";
                            } else if (imgElement.id.includes('_pop_img') || imgElement.id.includes('_img')) {
                                imgElement.src = "https://placehold.co/680x528/f0f4ff/6366f1?text=No+Image";
                            } else {
                                imgElement.src = "https://placehold.co/150x150/cccccc/333333?text=Error";
                            }
                            imgElement.alt = "Image not found";
                        }
                    };
                    img.src = testSrc;
                }
            }

            // Apply to all images on the page that have data-base-src
            const allImages = document.querySelectorAll('img[data-base-src]');
            allImages.forEach(img => {
                loadImageWithFallback(img);
            });

            // --- Header Link Management based on Firebase Auth State ---
            const loginLink = document.getElementById('login-link');
            const userMenuContainer = document.getElementById('user-menu-container');
            const userMonogram = document.getElementById('user-monogram');
            const userDropdown = document.getElementById('user-dropdown');
            const dropdownLogoutButton = document.getElementById('dropdown-logout-button');

            // Function to generate a random light background color for monogram
            function getRandomLightColor() {
                const hue = Math.floor(Math.random() * 360);
                const saturation = Math.floor(Math.random() * 30) + 70;
                const lightness = Math.floor(Math.random() * 20) + 70;
                return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
            }

            // Toggle dropdown visibility when monogram is clicked
            userMonogram.addEventListener('click', function(event) {
                event.stopPropagation();
                userDropdown.classList.toggle('hidden');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!userMenuContainer.contains(event.target)) {
                    userDropdown.classList.add('hidden');
                }
            });

            // Handle the logout button click from the dropdown
            dropdownLogoutButton.addEventListener('click', async function() {
                try {
                    await signOut(authInstance); // Use authInstance here
                } catch (error) {
                    console.error("Logout error:", error);
                    // Use a custom modal or message box instead of alert()
                    console.log('Failed to log out. Please try again.'); // Log to console for now
                }
            });

            // --- Modal Elements and Logic ---
            const authModal = document.getElementById('auth-modal');
            const closeModalButton = authModal.querySelector('.close-button');
            const loginTabButton = document.getElementById('login-tab-button');
            const signupTabButton = document.getElementById('signup-tab-button');
            const loginFormContainer = document.getElementById('login-form-container');
            const signupFormContainer = document.getElementById('signup-form-container');
            const loginForm = document.getElementById('login-form');
            const signupForm = document.getElementById('signup-form');
            const loginErrorMessage = document.getElementById('login-error-message');
            const signupErrorMessage = document.getElementById('signup-error-message');

            // Function to show the modal
            loginLink.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent default link behavior
                authModal.style.display = 'flex'; // Use flex to center
                loginErrorMessage.classList.add('hidden'); // Clear previous errors
                signupErrorMessage.classList.add('hidden');
            });

            // Function to close the modal
            closeModalButton.addEventListener('click', () => {
                authModal.style.display = 'none';
            });

            // Close modal if clicking outside content
            window.addEventListener('click', (event) => {
                if (event.target == authModal) {
                    authModal.style.display = 'none';
                }
            });

            // Tab switching logic
            loginTabButton.addEventListener('click', () => {
                loginTabButton.classList.add('active');
                signupTabButton.classList.remove('active');
                loginFormContainer.classList.remove('hidden');
                signupFormContainer.classList.add('hidden');
                loginErrorMessage.classList.add('hidden'); // Clear errors on tab switch
                signupErrorMessage.classList.add('hidden');
            });

            signupTabButton.addEventListener('click', () => {
                signupTabButton.classList.add('active');
                loginTabButton.classList.remove('active');
                signupFormContainer.classList.remove('hidden');
                loginFormContainer.classList.add('hidden');
                loginErrorMessage.classList.add('hidden'); // Clear errors on tab switch
                signupErrorMessage.classList.add('hidden');
            });

            // Login Form Submission
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = loginForm.querySelector('#login-email').value;
                const password = loginForm.querySelector('#login-password').value;
                loginErrorMessage.classList.add('hidden'); // Hide previous errors

                try {
                    await signInWithEmailAndPassword(authInstance, email, password);
                    authModal.style.display = 'none'; // Close modal on success
                    // onAuthStateChanged will handle UI update
                } catch (error) {
                    console.error("Login error:", error);
                    let message = "An unknown error occurred.";
                    switch (error.code) {
                        case 'auth/invalid-email':
                            message = "Invalid email address format.";
                            break;
                        case 'auth/user-disabled':
                            message = "Your account has been disabled.";
                            break;
                        case 'auth/user-not-found':
                        case 'auth/wrong-password':
                            message = "Invalid email or password.";
                            break;
                        case 'auth/too-many-requests':
                            message = "Too many login attempts. Please try again later.";
                            break;
                        default:
                            message = error.message;
                    }
                    loginErrorMessage.textContent = message;
                    loginErrorMessage.classList.remove('hidden');
                }
            });

            // Sign Up Form Submission
            signupForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const displayName = signupForm.querySelector('#signup-display-name').value;
                const email = signupForm.querySelector('#signup-email').value;
                const password = signupForm.querySelector('#signup-password').value;
                signupErrorMessage.classList.add('hidden'); // Hide previous errors

                try {
                    const userCredential = await createUserWithEmailAndPassword(authInstance, email, password);
                    if (displayName) {
                        await updateProfile(userCredential.user, { displayName: displayName });
                    }
                    authModal.style.display = 'none'; // Close modal on success
                    // onAuthStateChanged will handle UI update
                } catch (error) {
                    console.error("Signup error:", error);
                    let message = "An unknown error occurred.";
                    switch (error.code) {
                        case 'auth/email-already-in-use':
                            message = "This email is already in use.";
                            break;
                        case 'auth/invalid-email':
                            message = "Invalid email address format.";
                            break;
                        case 'auth/operation-not-allowed':
                            message = "Email/password accounts are not enabled.";
                            break;
                        case 'auth/weak-password':
                            message = "Password is too weak. Must be at least 6 characters.";
                            break;
                        default:
                            message = error.message;
                    }
                    signupErrorMessage.textContent = message;
                    signupErrorMessage.classList.remove('hidden');
                }
            });
        });
    </script>
</body>
</html>
